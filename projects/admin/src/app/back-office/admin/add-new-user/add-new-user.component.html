<div class="container-fluid py-4">
    <div class="row">
        <div class="col-lg-12 m-auto">
            <!-- basic information Card -->
            <div class="card mb-4" *ngIf="ISeditEmployee === false">
                <div class="card-header pb-0">
                    <div>
                        <h4 class="card-title-color">Basic Information</h4>
                    </div>
                    <form role="form" class="add-employee-form" [formGroup]="employeeForm" autocomplete="off">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="position-relative">
                                    <input #file type="file" accept='image/x-png,image/gif,image/jpeg'
                                        class="z-index-1 change-photo-user" (change)="preview(file.files)" />
                                    <div class="circle-120 custom-file primary-custom-file" *ngIf="!imgURL">
                                        <span class="custom-icons icon-picture material-icons">wallpaper</span>
                                        <div class="upload-icon-file">
                                            <span class="custom-icons material-icons">file_upload</span>
                                        </div>
                                    </div>
                                    <div class="mb-4" *ngIf="imgURL">
                                        <img [src]="imgURL" onerror="this.src ='../assets/img/no-image-available.jpg'"
                                            class="user-pic-add-employye-form">
                                    </div>
                                    <div *ngIf="file.length == 0">
                                        {{message}}
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Employee Number</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-user"></i></span>
                                    <input type="text" class="form-control" formControlName="EmpId"
                                        placeholder="Employee Number" maxlength="25">
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">First Name</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-user"></i></span>
                                    <input type="text" class="form-control" (keypress)="letterOnly($event)"
                                        formControlName="firstName" placeholder="First Name" aria-label="Email"
                                        aria-describedby="email-addon" maxlength="25">
                                    <div *ngIf="submitteduserData && this.employeeForm.controls.firstName.errors">
                                        <div *ngIf="this.employeeForm.controls.firstName.errors.required">
                                            <span class="error_msg">First Name is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Middle Name</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-user"></i></span>
                                    <input type="text" class="form-control" (keypress)="letterOnly($event)"
                                        formControlName="middleName" placeholder="Middle Name" aria-label="Email"
                                        aria-describedby="email-addon" maxlength="25">
                                    <div *ngIf="submitteduserData && fuserData.middleName.errors">
                                        <div *ngIf="fuserData.middleName.errors.required">
                                            <span class="error_msg">Middle Name is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Last Name</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-user"></i></span>
                                    <input type="text" class="form-control" (keypress)="letterOnly($event)"
                                        formControlName="lastName" placeholder="Last Name" aria-label="Email"
                                        aria-describedby="email-addon" maxlength="25">
                                    <div *ngIf="submitteduserData && fuserData.lastName.errors">
                                        <div *ngIf="fuserData.lastName.errors.required">
                                            <span class="error_msg">Last Name is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Personal Email Id</label>
                                <div class="mb-3 position-relative">
                                    <span class="icon-position"><i class="fa fa-envelope"></i></span>
                                    <input type="email" class="form-control" formControlName="p_Email"
                                        placeholder="Personal Email Id" aria-label="Password"
                                        aria-describedby="password-addon">
                                    <div *ngIf="submitteduserData && fuserData.p_Email.errors">
                                        <div *ngIf="fuserData.p_Email.errors.required">
                                            <span class="error_msg">Email ID is Required.</span>
                                        </div>
                                        <div
                                            *ngIf="!fuserData.p_Email.errors.valid && !fuserData.p_Email.errors.required">
                                            <span class="error_msg">Please Enter Valid Email ID.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Personal Contact Number</label>
                                <div class="mb-3 position-relative">
                                    <span class="icon-position"><i class="fa fa-phone"
                                            style="-webkit-transform: scaleX(-1); transform: scaleX(-1);"></i></span>
                                    <input type="text" class="form-control" formControlName="p_Mobile"
                                        mask="000-000-0000" placeholder="Personal Contact Number" aria-label="Password"
                                        aria-describedby="password-addon">
                                    <div *ngIf="submitteduserData && fuserData.p_Mobile.errors">
                                        <div *ngIf="fuserData.p_Mobile.errors.required">
                                            <span class="error_msg">Contact Number is Required.</span>
                                        </div>
                                        <div *ngIf="fuserData.p_Mobile.errors.pattern">
                                            <span class="error_msg">Contact Number is less than 10 digit.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <div class="">
                                    <label class="required">Gender: </label>
                                    <div class="d-flex" style="margin-top: 11px;">
                                        <div class="d-flex">
                                            <input type="radio" name="gender" value="1" class="radio-btn"
                                                formControlName="gender">
                                            <label class="ml-10">Male</label>
                                        </div>

                                        <div class="d-flex ms-2">
                                            <input type="radio" name="gender" value="2" class="radio-btn"
                                                formControlName="gender">
                                            <label class="ml-10">Female</label>
                                        </div>
                                        <div class="d-flex ms-2">
                                            <input type="radio" name="gender" value="3" class="radio-btn"
                                                formControlName="gender">
                                            <label class="ml-10">Other</label>
                                        </div>
                                    </div>
                                    <div *ngIf="submitteduserData && fuserData.gender.errors">
                                        <div *ngIf="fuserData.gender.errors.required">
                                            <span class="error_msg">Gender is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Date of Birth</label>
                                <div class="mb-3 position-relative mat-date-picker" (click)="picker1.open()">
                                    <span class="icon-position cursor-pointer"><i class="fa fa-calendar"></i></span>
                                    <input matInput class="form-control" placeholder="Please Select Date"
                                        [max]="maxDate" [matDatepicker]="picker1" formControlName="dob">
                                    <div class="mat-dat-picker-icon">
                                        <div class="calendar-icon"><i class="bx bxs-calendar"></i></div>
                                        <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                        <mat-datepicker #picker1></mat-datepicker>
                                    </div>
                                    <mat-datepicker #picker></mat-datepicker>

                                    <!-- <span class="icon-position cursor-pointer"
                                        (click)="d.toggle();d.navigateTo(maxDate)"><i class="fa fa-calendar"></i></span>
                                    <input class="form-control" (click)="d.toggle();d.navigateTo(maxDate)"
                                        [startDate]="{year: 1700, month: 7}" [minDate]="minDobDate"
                                        formControlName="dob" [maxDate]="maxDate" (input)="onDobDateChange($event)"
                                        placeholder="yyyy-mm-dd" name="dp" #d="ngbDatepicker" ngbDatepicker> -->
                                    <!-- <input type="date" class="text-feild form-control" [max]="getToday()"
                                        placeholder=" Date of Birth" formControlName="dob"> -->
                                    <!-- <input type="text" matInput ngxDaterangepickerMd
                                        [locale]="{applyLabel: 'ok', format: 'DD-MM-YYYY'}"
                                        (input)="cancelBasicInfoDateBack($event)" (change)="forBasicInfoDateChange()"
                                        class="text-feild form-control" placeholder="Select Date" startKey="start"
                                        endKey="end" [formControl]="employeeForm.controls['dob']" name="daterange"
                                        [alwaysShowCalendars]="true" [showClearButton]="true"
                                        [isInvalidDate]="isInvalidDate" [singleDatePicker]="true" /> -->
                                    <div *ngIf="submitteduserData && fuserData.dob.errors">
                                        <div *ngIf="fuserData.dob.errors.required">
                                            <span class="error_msg">Date of Birth is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Blood Group</label>
                                <div class="mb-3 position-relative">
                                    <ng-select [items]="bloodGroupArray" class="" bindLabel="bloodGroupArray"
                                        bindValue="bloodGroupArray" placeholder="Select Blood Group"
                                        formControlName="bloodGroup">
                                    </ng-select>
                                    <div *ngIf="submitteduserData && fuserData.bloodGroup.errors">
                                        <div *ngIf="fuserData.bloodGroup.errors.required">
                                            <span class="error_msg">Blood Group is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Linkedin Id</label>
                                <div class="mb-3 position-relative">
                                    <span class="icon-position"><i class="fa fa-linkedin"></i></span>
                                    <input type="text" class="form-control" formControlName="linkedInId"
                                        placeholder="Linkedin Id" aria-label="Password"
                                        aria-describedby="password-addon">
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Permanent Address</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-map-marker"></i></span>
                                    <textarea type="textarea" maxlength="200" class="form-control textarea-height"
                                        formControlName="permenentAddress" placeholder="Permanent Address"
                                        aria-label="Password" aria-describedby="password-addon"></textarea>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Current Address</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-map-marker"></i></span>
                                    <textarea type="textarea" maxlength="200" class="form-control textarea-height"
                                        formControlName="currentAddress" placeholder="Current Address"
                                        aria-label="Password" aria-describedby="password-addon"></textarea>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Signature</label>
                                <div class="d-flex">
                                    <div class="mb-3" style="width: 120px;">
                                        <input #file1 type="file" accept='image/x-png,image/gif,image/jpeg'
                                            class="signature-upload mt-2" width="100px"
                                            (change)="previewSignatureImage(file1.files)" />
                                        <button class="btn bg-gradient-dark mt-2 mr-20 cursor-pointer">Upload</button>
                                    </div>
                                    <div class="text-danger">{{signatureMessage}}</div>
                                    <div *ngIf="signatureImageURL">
                                        <div class="position-relative">
                                            <div class="mt-2">
                                                <div class="recipe-image">
                                                    <img [src]="signatureImageURL" height="50px" width="150px"
                                                        onerror="this.src ='assets/img/no-image-available.jpg'"
                                                        style="border-radius: 5px;">
                                                </div>
                                            </div>
                                            <div class="recipe-image-control">
                                                <button class="border-0 float-right btn btn-delete-icon"
                                                    (click)="removeSignatureImageFile()">
                                                    <i class="fa fa-times"></i>
                                                </button>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end">
                            <div class="text-center">
                                <button type="button" (click)="SaveUser('save')" *ngIf="ISeditEmployee === false"
                                    class="btn bg-gradient-dark m-3">Save</button>
                                <button type="button" (click)="SaveUser('continue')" *ngIf="ISeditEmployee === false"
                                    class="btn bg-gradient-dark m-3">Save & Continue</button>
                                <button type="button" (click)="UpdateUser()" class="btn bg-gradient-dark m-3"
                                    *ngIf="ISeditEmployee === true || profileDetails === true">Update</button>
                            </div>
                            <div class="text-center">
                                <button type="button" (click)="cancelUser()"
                                    class="btn bg-gradient-danger m-3">Cancel</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <!-- basic information new Card -->
            <div class="card mb-4" *ngIf="ISeditEmployee === true">
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="d-flex">
                                <div class="profile-image">
                                    <div class="position-relative">
                                        <div class="mb-4" *ngIf="empBasicInfoList.profile_image">
                                            <img [src]="empBasicInfoList.profile_image"
                                                onerror="this.src ='../assets/img/no-image-available.jpg'"
                                                class="user-pic-add-employye-form">
                                        </div>
                                    </div>
                                </div>
                                <div class="profile-info">
                                    <h5 class="mb-0 profile-name">
                                        {{empBasicInfoList.firstName | titlecase}}
                                    </h5>
                                    <span style="font-size:15px;color: gray;" class="mb-0">
                                        Designation : {{employeeCompanyList?.designationName | titlecase}}</span><br>
                                    <span style="font-size:15px;color: gray;">Technology :
                                        {{employeeCompanyList?.technologyName | titlecase}}</span>
                                    <br>
                                    <h6 class="mb-0">Employee ID :
                                        {{employeeCompanyList?.empNumber}}</h6>
                                    <span style="font-size:15px;color: gray;">Date of Join :
                                        {{employeeCompanyList?.joiningDate}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <button class="btn bg-gradient-dark edit-small-btn mb-0 height-40" style="float: right;"
                                (click)="openBasicInfoModel()"><i class="fas fa-edit" aria-hidden="true"></i></button>
                            <!-- <div class="d-flex"> -->
                            <div class="emp-details for-label w-100">
                                <div class="d-flex">
                                    <label class="for-company-Label">Phone :</label>
                                    <label class="for-company-Label-value">
                                        {{empBasicInfoList.p_Mobile}} </label>
                                </div>

                                <div class="d-flex">
                                    <label class="for-company-Label" style="vertical-align: top;">Email :</label>
                                    <label class="for-company-Label-value">
                                        {{empBasicInfoList.p_Email}} </label>
                                </div>

                                <div class="d-flex">
                                    <label class="for-company-Label" for="">Birthday :</label>
                                    <label class="for-company-Label-value">
                                        {{empBasicInfoList.dob}} </label>
                                </div>

                                <div class="d-flex">
                                    <label class="for-company-Label" style="vertical-align: top;">Address :</label>
                                    <label class="for-company-Label-value">
                                        {{empBasicInfoList.permenentAddress}} </label>
                                </div>


                                <div class="d-flex">
                                    <label class="for-company-Label" for="">Gender :</label>
                                    <label class="for-company-Label-value" *ngIf="empBasicInfoList.gender == 1">
                                        Male
                                    </label>
                                    <label class="for-company-Label-value" *ngIf="empBasicInfoList.gender == 2">
                                        Female
                                    </label>
                                </div>
                            </div>
                            <!-- <div style="margin-left: 3rem;">
                                    <label for="" style="color:gray">
                                        {{empBasicInfoList.p_Mobile}} </label><br>
                                    <label for="" style="color:gray">
                                        {{empBasicInfoList.p_Email}} </label><br>
                                    <label for="" style="color:gray">
                                        {{empBasicInfoList.dob}} </label><br>
                                    <label for="" style="color:gray">
                                        {{empBasicInfoList.permenentAddress}} </label><br>
                                    <label for="" style="color:gray" *ngIf="empBasicInfoList.gender == 1"> Male
                                    </label>
                                    <label for="" style="color:gray" *ngIf="empBasicInfoList.gender == 2"> Female
                                    </label>
                                </div> -->
                            <!-- </div> -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Company Information Card -->
            <div class="row" *ngIf="ISeditEmployee === true">
                <div class="col-lg-6">
                    <div class="card mb-4 card-height">
                        <div class="card-body pb-2">
                            <div class="d-flex mb-2" style="justify-content:space-between;">
                                <h4 class="card-title-color">Company Information</h4>
                                <!-- <button class="btn bg-gradient-dark" (click)="openCompanyInfoModel()"
                                    style="float: right;border-radius: 50%;padding: 15px 17px;">
                                    <i class="fa fa-edit" style="font-size: 15px;"></i>
                                </button> -->
                                <div>
                                    <button class="btn bg-gradient-dark mb-0 height-40 add-small-btn"
                                        (confirm-click)="sendLoginCredetial()" appConfirm
                                        [confirmTitle]="'Send Credential'"
                                        [confirmContent]="'Are you sure want to send Login Credential ?'">
                                        <div class="edit-add-btn">
                                            <i class="fas fa-send" aria-hidden="true"></i>
                                        </div>
                                    </button>
                                    <button class="btn bg-gradient-dark ml-10 mb-0 height-40 add-small-btn"
                                        *ngIf="!employeeCompanyList" (click)="openCompanyInfoModel()">
                                        <div class="edit-add-btn">
                                            <i class="fas fa-plus" aria-hidden="true"></i>
                                        </div>
                                    </button>
                                    <button class="btn bg-gradient-dark ml-10 mb-0 height-40 edit-small-btn"
                                        *ngIf="employeeCompanyList"
                                        (click)="getCompanyInformationById(employeeCompanyList.employeeId)">
                                        <div class="edit-add-btn">
                                            <i class="fas fa-edit" aria-hidden="true"></i>
                                        </div>
                                    </button>
                                </div>
                            </div>
                            <div class="companyInfo-card-scroll">
                                <div class=" mb-2">
                                    <div class="d-flex">
                                        <div class="for-label" style="width: 95%;">
                                            <div class="d-flex">
                                                <label class="for-company-Label col-lg-4 col-md-6 col-sm-12">Company
                                                    Name :</label>
                                                <label class="for-company-Label-value col-lg-7">
                                                    {{employeeCompanyList?.companyName}} </label>
                                            </div>
                                            <div class="d-flex">
                                                <label class="for-company-Label col-lg-4 col-md-6 col-sm-12">Email
                                                    ID :</label>
                                                <label class="for-company-Label-value col-lg-7">
                                                    {{employeeCompanyList?.c_Email}} </label>
                                            </div>

                                            <div class="d-flex">
                                                <label class="for-company-Label col-lg-4 col-md-6 col-sm-12">Skype
                                                    ID :</label>
                                                <label class="for-company-Label-value col-lg-7">
                                                    {{employeeCompanyList?.c_SkypeId}} </label>
                                            </div>

                                            <div class="d-flex">
                                                <label class="for-company-Label col-lg-4 col-md-6 col-sm-12">Joining
                                                    Date :</label>
                                                <label class="for-company-Label-value col-lg-7">
                                                    {{employeeCompanyList?.joiningDate}} </label>

                                            </div>
                                            <div class="d-flex">
                                                <label class="for-company-Label col-lg-4 col-md-6 col-sm-12">Role
                                                    :</label>
                                                <label class="for-company-Label-value col-lg-7">
                                                    {{employeeCompanyList?.roleName}} </label>

                                            </div>
                                            <div class="d-flex">
                                                <label class="for-company-Label col-lg-4 col-md-6 col-sm-12">Designation
                                                    :</label>
                                                <label class="for-company-Label-value col-lg-7">
                                                    {{employeeCompanyList?.designationName}} </label>
                                            </div>

                                            <div class="d-flex">
                                                <label class="for-company-Label col-lg-4 col-md-6 col-sm-12">Technology
                                                    :</label>
                                                <label class="for-company-Label-value col-lg-7">
                                                    <span
                                                        *ngFor="let tech of employeeCompanyList?.technologyData; let i = index">
                                                        {{tech.technologyName }}{{ (i+1==
                                                        employeeCompanyList?.technologyData?.length)
                                                        ? '' : ',
                                                        '}}
                                                    </span>
                                                </label>
                                            </div>
                                            <div class="d-flex">
                                                <label class="for-company-Label col-lg-4 col-md-6 col-sm-12">Assign
                                                    Responsible Person
                                                    :</label>
                                                <label class="for-company-Label-value col-lg-7">
                                                    <span
                                                        *ngFor="let tech of employeeCompanyList?.assignPersonData; let i = index">
                                                        {{tech.userName }}{{ (i+1==
                                                        employeeCompanyList?.assignPersonData?.length)
                                                        ? '' : ',
                                                        '}}
                                                    </span>
                                                </label>
                                            </div>

                                            <div class="d-flex"
                                                *ngIf="employeeCompanyList && bankDetailsList && salaryDetailsList.length > 0">
                                                <label class="for-company-Label col-lg-4 col-md-6 col-sm-12">Appoinment
                                                    Letter :</label>
                                                <label class="">
                                                    <button class="font-20 btn bg-gradient-dark emp-edit-btn"
                                                        title="Appraisal Letter"
                                                        (click)="downloadEmployeeAppoinmentLetter()">
                                                        <i class="fa fa-download"></i></button>
                                                </label>
                                            </div>
                                            <div class="d-flex" *ngIf="employeeCompanyList">
                                                <label class="for-company-Label col-lg-4 col-md-6 col-sm-12">Offer
                                                    Letter :</label>
                                                <label class="">
                                                    <button class="font-20 btn bg-gradient-dark emp-edit-btn"
                                                        title="Offer Letter" (click)="downloadOfferLetter()">
                                                        <i class="fa fa-download"></i></button>
                                                </label>
                                            </div>
                                            <!-- <div class="d-flex" *ngIf="employeeCompanyList">
                                                <label
                                                    class="for-company-Label col-lg-4 col-md-6 col-sm-12">Training
                                                    Experience Letter :</label>
                                                <label class="">
                                                    <button class="font-20 btn bg-gradient-dark emp-edit-btn"
                                                        title="Offer Letter"
                                                        (click)="downloadTrainingExpLetter()">
                                                        <i class="fa fa-download"></i></button>
                                                </label>
                                            </div> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card mb-4 card-height">
                        <div class="card-body pb-2">
                            <div class="d-flex mb-2" style="justify-content:space-between;">
                                <h4 class="card-title-color">Bank Details</h4>
                                <button class="btn bg-gradient-dark mb-0 height-40 add-small-btn"
                                    *ngIf="!bankDetailsList" (click)="addBankDetails()">
                                    <div class="edit-add-btn">
                                        <i class="fas fa-plus" aria-hidden="true"></i>
                                    </div>
                                </button>
                                <button class="btn bg-gradient-dark mb-0 height-40 edit-small-btn"
                                    *ngIf="bankDetailsList" (click)="getBankDetailsById(bankDetailsList._id)">
                                    <div class="edit-add-btn">
                                        <i class="fas fa-edit" aria-hidden="true"></i>
                                    </div>
                                </button>
                            </div>
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="bank-card-scroll">
                                        <div class="for-label">
                                            <div class="d-flex">
                                                <label for="" class="col-lg-4 col-md-6 col-sm-12 for-bank-Label "
                                                    style="vertical-align: top;">Bank Name
                                                    :</label>
                                                <label style="color:gray;" *ngIf="!!bankDetailsList">
                                                    {{bankDetailsList.bankName | titlecase}} </label>
                                            </div>

                                            <div class="d-flex">
                                                <label class="col-lg-4 col-md-6 col-sm-12 for-bank-Label"
                                                    style="vertical-align: top;">Bank
                                                    Account No.
                                                    :</label>
                                                <label style="color:gray;" *ngIf="!!bankDetailsList">
                                                    {{bankDetailsList.bankAccountNo}} </label>
                                            </div>

                                            <div class="d-flex">
                                                <label class="col-lg-4 col-md-6 col-sm-12 for-bank-Label"
                                                    style="vertical-align: top;">IFSC
                                                    Code :</label>
                                                <label style="color:gray;" *ngIf="!!bankDetailsList">
                                                    {{bankDetailsList.ifscCode | uppercase}} </label>
                                            </div>

                                            <div class="d-flex">
                                                <label class="col-lg-4 col-md-6 col-sm-12 for-bank-Label"
                                                    style="vertical-align: top;">PAN No.
                                                    :</label>
                                                <label style="color:gray;" *ngIf="!!bankDetailsList">
                                                    {{bankDetailsList.panNo | uppercase}} </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Emergency Contact & Document card -->
            <div class="row" *ngIf="ISeditEmployee === true">
                <div class="col-lg-6">
                    <div class="card mb-4 card-height">
                        <div class="card-body pb-2">
                            <div class="d-flex mb-2" style="justify-content:space-between;">
                                <h4 class="card-title-color">Emergency Contact</h4>
                                <button class="btn bg-gradient-dark mb-0 height-40 add-small-btn"
                                    (click)="addEmergencyContactInformation()">
                                    <div class="edit-add-btn">
                                        <i class="fas fa-plus" aria-hidden="true"></i>
                                    </div>
                                </button>
                            </div>
                            <div class="card-scroll">
                                <div class="row"
                                    *ngFor="let emergencyContactInformationData of emergencyContactInformationList ;let userMasterIndex = index">
                                    <div>
                                        <div class=" mb-2">
                                            <button class="btn bg-gradient-dark ml-10 dtl-btn"
                                                *ngIf="emergencyContactInformationData.isDeleted === false"
                                                (confirm-click)="deleteEmergencyContactInformationById(emergencyContactInformationData._id)"
                                                appConfirm [confirmTitle]="'Delete'"
                                                [confirmContent]="'Are you sure to Delete this Contact Details?'"
                                                style="float: right;margin-right: 0;border-radius: 50%;padding: 6px 10px;">
                                                <i class="fa fa-trash" style="font-size: 10px;"></i>
                                            </button>
                                            <button class="btn bg-gradient-dark emp-edit-btn"
                                                *ngIf="emergencyContactInformationData.isDeleted === false"
                                                (click)="getEmergencyContactInfoById(emergencyContactInformationData._id)"
                                                style="float: right;margin-right: 0;border-radius: 50%;padding: 6px 10px;">
                                                <i class="fa fa-edit" style="font-size: 10px;"></i>
                                            </button>
                                            <div class="d-flex">
                                                <div class="for-label" style="width: 100%;">
                                                    <div class="d-flex">
                                                        <label class="for-salary-Label">Name :</label>
                                                        <label class="for-salary-Label-value">
                                                            {{emergencyContactInformationData?.contactPersonName}}
                                                        </label>
                                                    </div>
                                                    <div class="d-flex">
                                                        <label class="for-salary-Label">Phone :</label>
                                                        <label class="for-salary-Label-value">
                                                            {{emergencyContactInformationData?.contactPersonPhone}}</label>
                                                    </div>
                                                    <div class="d-flex">
                                                        <label class="for-salary-Label">Email ID :</label>
                                                        <label class="for-salary-Label-value">
                                                            {{emergencyContactInformationData?.contactPersonEmailId}}</label>
                                                    </div>
                                                    <div class="d-flex">
                                                        <label class="for-salary-Label">Relationship :</label>
                                                        <label class="for-salary-Label-value">
                                                            {{emergencyContactInformationData?.relationship}}</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- <div class="col-lg-12">
                                                <div class="d-flex">
                                                    <div class="for-label">
                                                        <label class="col-lg-12" for="">Name :</label><br>
                                                        <label class="col-lg-12" for="">Phone :</label><br>
                                                        <label class="col-lg-12" for="">Email ID :</label><br>
                                                        <label class="col-lg-12" for="">Relationship :</label><br>
                                                    </div>
                                                    <div style="margin-left:50px;">
                                                        <label for="" style="color:gray" class="emergency-user-name">
                                                            {{emergencyContactInformationData?.contactPersonName}}
                                                        </label><br>
                                                        <label for="" style="color:gray">
                                                            {{emergencyContactInformationData?.contactPersonPhone}}
                                                        </label><br>
                                                        <label for="" style="color:gray">
                                                            {{emergencyContactInformationData?.contactPersonEmailId}}
                                                        </label><br>
                                                        <label for="" style="color:gray">
                                                            {{emergencyContactInformationData?.relationship}}
                                                        </label><br>
                                                    </div>
                                                </div>
                                            </div> -->
                                        </div>
                                        <hr *ngIf="userMasterIndex+1 != emergencyContactInformationList.length">
                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card mb-4 card-height">
                        <div class="card-body pb-2">
                            <div class="d-flex" style="justify-content:space-between;">
                                <h4 class="card-title-color">Documents</h4>
                                <button class="btn bg-gradient-dark mb-0 height-40 add-small-btn"
                                    (click)="addDocument()">
                                    <div class="edit-add-btn">
                                        <i class="fas fa-plus" aria-hidden="true"></i>
                                    </div>
                                </button>
                            </div>

                            <div class="table-responsive p-0 table-head-fix">
                                <table class="table align-items-center mb-0">
                                    <thead>
                                        <tr>
                                            <th class="theme-color">
                                                Name</th>

                                            <th class="theme-color">
                                                Download</th>
                                            <th class="theme-color">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr
                                            *ngFor="let uplodedDocumentData of uplodedDocumentList ;let userMasterIndex = index">
                                            <td class="employe-doc-table-ellips">
                                                <span
                                                    class="text-secondary text-xs font-weight-bold">{{uplodedDocumentData.documentTypeName
                                                    | titlecase}}</span>
                                            </td>

                                            <td class="align-middle">
                                                <span *ngIf="uplodedDocumentData.docType == 2">
                                                    <span *ngFor="let document of uplodedDocumentData?.documents">
                                                        <a class="mb-0 cursor-pointer btn bg-gradient-dark download-btn me-2"
                                                            [href]="commonService.rootData.uploadsUrl +'documents/'+ document"
                                                            target="_blank"><i class="fa fa-download"></i></a>
                                                    </span>
                                                </span>
                                                <span *ngIf="uplodedDocumentData.docType == 1">
                                                    <a class="mb-0 cursor-pointer btn bg-gradient-dark download-btn me-2"
                                                        [href]="commonService.rootData.uploadsUrl +'documents/'+ uplodedDocumentData?.documents"
                                                        target="_blank"><i class="fa fa-download"></i></a>
                                                </span>
                                            </td>
                                            <td class="align-middle">
                                                <div class="d-flex" *ngIf="uplodedDocumentData.isDeleted === false">
                                                    <div class="card-header p-0">
                                                        <button
                                                            class="mb-0 cursor-pointer btn bg-gradient-dark emp-edit-btn"
                                                            (click)="getDocumentUploadById(uplodedDocumentData._id)"><i
                                                                class="fas fa-edit" aria-hidden="true"></i></button>
                                                        <button
                                                            class="mb-0 ml-10 cursor-pointer btn bg-gradient-dark dtl-btn"
                                                            (confirm-click)="deleteDocumentDetailsById(uplodedDocumentData._id)"
                                                            appConfirm [confirmTitle]="'Delete'"
                                                            [confirmContent]="'Are you sure to Delete this Document?'"><i
                                                                class="fas fa-trash" aria-hidden="true"></i></button>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <!-- Education Details & Experience Details card -->
            <div class="row" *ngIf="ISeditEmployee === true">
                <div class="col-lg-6">
                    <div class="card mb-4 card-height">
                        <div class="card-body pb-2">
                            <div class="d-flex mb-2" style="justify-content:space-between;">
                                <h4 class="card-title-color">Education Details</h4>
                                <button class="btn bg-gradient-dark mb-0 height-40 add-small-btn"
                                    (click)="addEducationDetails()">
                                    <div class="edit-add-btn">
                                        <i class="fas fa-plus" aria-hidden="true"></i>
                                    </div>
                                </button>
                            </div>
                            <div class="card-scroll">
                                <div class="row"
                                    *ngFor="let educationDetailsData of educationDetailsList;let userMasterIndex = index">
                                    <div class=" mb-2">
                                        <button class="btn bg-gradient-dark ml-10 dtl-btn"
                                            *ngIf="educationDetailsData?.isDeleted === false"
                                            (confirm-click)="deleteEducationDetailsById(educationDetailsData?._id)"
                                            appConfirm [confirmTitle]="'Delete'"
                                            [confirmContent]="'Are you sure to Delete this Education Details?'"
                                            style="float: right;margin-right: 0;border-radius: 50%;padding: 6px 10px;">
                                            <i class="fa fa-trash" style="font-size: 10px;"></i>
                                        </button>
                                        <button class="btn bg-gradient-dark emp-edit-btn"
                                            *ngIf="educationDetailsData?.isDeleted === false"
                                            (click)="getEducationDetailsById(educationDetailsData?._id)"
                                            style="float: right;margin-right: 0;border-radius: 50%;padding: 6px 10px;">
                                            <i class="fa fa-edit" style="font-size: 10px;"></i>
                                        </button>
                                        <div class="d-flex">
                                            <div class="for-label" style="width: 100%;">
                                                <div class="d-flex">
                                                    <label class="for-salary-Label">University Name :</label>
                                                    <label class="for-salary-Label-value" style="color:#4A4B4D;">
                                                        {{educationDetailsData?.universityName | titlecase}} </label>
                                                </div>
                                                <div class="d-flex">
                                                    <label class="for-salary-Label">Qualification :</label>
                                                    <label class="for-salary-Label-value">
                                                        {{educationDetailsData?.qualification + ' ('+
                                                        educationDetailsData?.grade +')' | uppercase}} </label>
                                                </div>
                                                <div class="d-flex">
                                                    <label class="for-salary-Label">From - To Years :</label>
                                                    <label class="for-salary-Label-value">
                                                        {{educationDetailsData?.fromYear}} -
                                                        {{educationDetailsData?.toYear}} </label>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- <div class="col-lg-12">
                                            <div class="d-flex">
                                                <div class="for-label">
                                                    <label class="col-lg-12" for="">University Name :</label><br>
                                                    <label class="col-lg-12" for="">Qualification :</label><br>
                                                    <label class="col-lg-12" for="">From - To Years :</label><br>
                                                </div>
                                                <div style="margin-left:50px;">
                                                    <label for="">{{educationDetailsData.universityName |
                                                        titlecase}}</label><br>
                                                    <label for="" style="color:gray;">
                                                        {{educationDetailsData.qualification + ' ('+
                                                        educationDetailsData.grade +')' | uppercase}} </label><br>
                                                    <label for="" style="color:gray;">
                                                        {{educationDetailsData.fromYear}} -
                                                        {{educationDetailsData.toYear}}
                                                    </label><br>
                                                </div>
                                            </div>
                                        </div> -->
                                    </div>
                                    <hr *ngIf="userMasterIndex+1 != educationDetailsList.length">
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card mb-4 card-height">
                        <div class="card-body pb-2">
                            <div class="d-flex mb-2" style="justify-content:space-between;">
                                <h4 class="card-title-color">Experience Details</h4>
                                <button class="btn bg-gradient-dark mb-0 height-40 add-small-btn"
                                    (click)="addExperienceDetails()">
                                    <div class="edit-add-btn">
                                        <i class="fas fa-plus" aria-hidden="true"></i>
                                    </div>
                                </button>
                            </div>
                            <div class="card-scroll">
                                <div
                                    *ngFor="let experienceDetailsData of experienceDetailsList;let userMasterIndex = index">
                                    <div class=" mb-2">
                                        <button class="btn bg-gradient-dark ml-10 dtl-btn"
                                            *ngIf="experienceDetailsData?.isDeleted === false"
                                            (confirm-click)="deleteExperienceDetailsById(experienceDetailsData?._id)"
                                            appConfirm [confirmTitle]="'Delete'"
                                            [confirmContent]="'Are you sure to Delete this Experience Details?'"
                                            style="float: right;margin-right: 0;border-radius: 50%;padding: 6px 10px;">
                                            <i class="fa fa-trash" style="font-size: 10px;"></i>
                                        </button>
                                        <button class="btn bg-gradient-dark emp-edit-btn"
                                            *ngIf="experienceDetailsData?.isDeleted === false"
                                            (click)="getExperienceDetailsById(experienceDetailsData?._id)"
                                            style="float: right;margin-right: 0;border-radius: 50%;padding: 6px 10px;">
                                            <i class="fa fa-edit" style="font-size: 10px;"></i>
                                        </button>
                                        <div class="d-flex">
                                            <div class="for-label" style="width: 95%;">
                                                <div class="d-flex">
                                                    <label class="for-salary-Label">Company Name :</label>
                                                    <label class="for-salary-Label-value" style="color:#4A4B4D;">
                                                        {{experienceDetailsData?.companyName | titlecase}} </label>
                                                </div>
                                                <div class="d-flex">
                                                    <label class="for-salary-Label">Designation :</label>
                                                    <label class="for-salary-Label-value">
                                                        {{experienceDetailsData?.designationName | titlecase}} </label>
                                                </div>
                                                <div class="d-flex">
                                                    <label class="for-salary-Label">Date & Experience :</label>
                                                    <label class="for-salary-Label-value">
                                                        {{experienceDetailsData?.fromDate | date:'MMM d,y' }} To
                                                        {{experienceDetailsData?.toDate | date:'MMM d,y' }}
                                                        ({{experienceDetailsData?.totalExperience}}) </label>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- <div class="col-lg-12">
                                            <div class="d-flex">
                                                <div class="for-label">
                                                    <label class="col-lg-12" for="">Company Name :</label><br>
                                                    <label class="col-lg-12" for="">Designation :</label><br>
                                                    <label class="col-lg-12" for="">Date & Experience :</label><br>
                                                </div>
                                                <div style="margin-left:50px;">
                                                    <label for="">{{experienceDetailsData.companyName |
                                                        titlecase}}</label><br>
                                                    <label for=""
                                                        style="color:gray;">{{experienceDetailsData.designationName
                                                        |
                                                        titlecase}}</label><br>
                                                    <label for="" style="color:gray;">
                                                        {{experienceDetailsData.fromDate | date:'MMM d,y' }} To
                                                        {{experienceDetailsData.toDate | date:'MMM d,y' }}
                                                        ({{experienceDetailsData.totalExperience}})</label><br>
                                                </div>
                                            </div>
                                        </div> -->
                                    </div>
                                    <hr *ngIf="userMasterIndex+1 != experienceDetailsList.length">
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <!-- Resume Information Card -->
            <div class="row" *ngIf="ISeditEmployee === true">
                <div class="col-lg-6">
                    <div class="card mb-4 card-height">
                        <div class="card-body pb-2">
                            <div class="d-flex mb-2" style="justify-content:space-between;">
                                <h4 class="card-title-color">Resume Information</h4>
                                <button class="btn bg-gradient-dark mb-0 height-40 add-small-btn"
                                    *ngIf="!empResumeDetailsList" (click)="addResumeDetails()">
                                    <div class="edit-add-btn">
                                        <i class="fas fa-plus" aria-hidden="true"></i>
                                    </div>
                                </button>
                                <button class="btn bg-gradient-dark mb-0 height-40 edit-small-btn"
                                    *ngIf="empResumeDetailsList" (click)="getResumeInformationDetailsById()">
                                    <div class="edit-add-btn">
                                        <i class="fas fa-edit" aria-hidden="true"></i>
                                    </div>
                                </button>
                            </div>
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="card-scroll">
                                        <div class="for-label">
                                            <div class="d-flex">
                                                <label for="" class="col-lg-4 col-md-6 col-sm-12 for-resume-Label "
                                                    style="vertical-align: top;">Professional Summary : </label>
                                                <label style="color:gray;">
                                                    {{empResumeDetailsList?.professionalSummary}}</label>
                                            </div>
                                            <div class="">
                                                <div class="d-flex">
                                                    <label class="col-lg-4 col-md-6 col-sm-12 for-resume-Label"
                                                        style="vertical-align: top;">competencies : </label>
                                                    <span>
                                                        <label style="color:gray;" class="me-3"
                                                            *ngFor="let competenciesDetails of empResumeDetailsList?.competencies;">
                                                            {{competenciesDetails?.competenciesData}},</label>
                                                    </span>
                                                </div>

                                                <div class="d-flex">
                                                    <label class="col-lg-4 col-md-6 col-sm-12 for-resume-Label"
                                                        style="vertical-align: top;">Technical Profile :</label>
                                                    <span>
                                                        <label style="color:gray;" class="me-2"
                                                            *ngFor="let technicalDetails of empResumeDetailsList?.technicalProfile;">

                                                            {{technicalDetails?.technicalProfileData}},</label>

                                                    </span>
                                                </div>

                                                <div class="d-flex">
                                                    <label class="col-lg-4 col-md-6 col-sm-12 for-resume-Label"
                                                        style="vertical-align: top;">software : </label>
                                                    <span>
                                                        <label style="color:gray;" class="me-2"
                                                            *ngFor="let softwareDetails of empResumeDetailsList?.software;">
                                                            {{softwareDetails?.softwareData}},</label>
                                                    </span>
                                                </div>
                                                <div class="d-flex">
                                                    <label class="col-lg-4 col-md-6 col-sm-12 for-resume-Label"
                                                        style="vertical-align: top;">language : </label>
                                                    <span>
                                                        <label style="color:gray;" class="me-2"
                                                            *ngFor="let languageDetails of empResumeDetailsList?.language;">
                                                            {{languageDetails?.languageData}},</label>
                                                    </span>
                                                </div>
                                                <div class="d-flex">
                                                    <label class="col-lg-4 col-md-6 col-sm-12 for-resume-Label"
                                                        style="vertical-align: top;">projects : </label>
                                                    <span>
                                                        <label style="color:gray;" class="me-2"
                                                            *ngFor="let projectDetails of empResumeDetailsList?.projectName;">
                                                            {{projectDetails?.projectName}},</label>
                                                    </span>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card mb-4 card-height">
                        <div class="card-body pb-2">
                            <div class="d-flex" style="justify-content:space-between;">
                                <h4 class="card-title-color">Projects</h4>
                                <button class="btn bg-gradient-dark mb-0 height-40 add-small-btn" (click)="addTeam()">
                                    <div class="edit-add-btn">
                                        <i class="fas fa-plus" aria-hidden="true"></i>
                                    </div>
                                </button>
                            </div>

                            <div class="table-responsive p-0 table-head-fix">
                                <table class="table align-items-center mb-0">
                                    <thead>
                                        <tr>
                                            <th class="theme-color">
                                                Name</th>


                                            <th class="theme-color">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr
                                            *ngFor="let projectDetailsData of projectDetailsList ;let userMasterIndex = index">
                                            <td class="employe-doc-table-ellips">
                                                <span
                                                    class="text-secondary text-xs font-weight-bold">{{projectDetailsData.projectName
                                                    | titlecase}}</span>
                                            </td>

                                            <td class="align-middle">
                                                <div class="d-flex">
                                                    <div class="card-header p-0">
                                                        <button
                                                            class="mb-0 ml-10 cursor-pointer btn bg-gradient-dark dtl-btn"
                                                            (confirm-click)="removeAssignProject(projectDetailsData._id,projectDetailsData.projectId)"
                                                            appConfirm [confirmTitle]="'Remove'"
                                                            [confirmContent]="'Are you sure to remove this project ?'"><i
                                                                class="fa fa-remove" aria-hidden="true"></i></button>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Salary Information Card -->
            <div class="row" *ngIf="ISeditEmployee === true">
                <div class="col-lg-12">
                    <div class="card mb-4 card-height">
                        <div class="card-body pb-2">
                            <div class="d-flex" style="justify-content:space-between;">
                                <h4 class="card-title-color">Salary Details</h4>
                                <button class="btn bg-gradient-dark mb-0 height-40 add-small-btn"
                                    (click)="addSalaryDetails()">
                                    <div class="edit-add-btn">
                                        <i class="fas fa-plus" aria-hidden="true"></i>
                                    </div>
                                </button>
                            </div>

                            <div class="table-responsive p-0 table-head-fix table-head-fix-2">
                                <table class="table align-items-center mb-0">
                                    <thead>
                                        <tr>
                                            <th class="theme-color">
                                                Total Salary</th>

                                            <th class="theme-color">
                                                Basic Salary</th>
                                            <th class="theme-color">
                                                HRA</th>
                                            <th class="theme-color" tabindex="0" data-bs-toggle="tooltip"
                                                title="Professional Tax">
                                                PT</th>
                                            <th class="theme-color" tabindex="0" data-bs-toggle="tooltip"
                                                title="Transport Allowance">
                                                TA</th>
                                            <th class="theme-color">
                                                PF</th>
                                            <th class="theme-color" tabindex="0" data-bs-toggle="tooltip"
                                                title="PF Employer">
                                                PF Emp</th>
                                            <th class="theme-color" tabindex="0" data-bs-toggle="tooltip"
                                                title="Miscellaneous Allowance">
                                                MA</th>
                                            <th class="theme-color">
                                                Start Date</th>
                                            <th class="theme-color">
                                                End Date</th>
                                            <th class="theme-color">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr
                                            *ngFor="let salaryDetailsData of salaryDetailsList;let userMasterIndex = index">
                                            <td class="employe-doc-table-ellips">
                                                {{salaryDetailsData?.totalSalary}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{salaryDetailsData?.basicSalary}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{salaryDetailsData?.HRA}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{salaryDetailsData?.professionalText}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{salaryDetailsData?.transportAllowance}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{salaryDetailsData?.PF}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{salaryDetailsData?.PFEmployer}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{salaryDetailsData?.miscellaneousAllowances}}
                                            </td>
                                            <td class="">
                                                {{salaryDetailsData?.startDate | date : "dd-MM-yyyy"}}
                                            </td>
                                            <td class="">
                                                {{salaryDetailsData?.endDate | date : "dd-MM-yyyy"}}
                                            </td>
                                            <td class="align-middle">
                                                <div class="d-flex">
                                                    <div class="card-header p-0">
                                                        <button
                                                            class="mb-0 cursor-pointer btn bg-gradient-dark emp-edit-btn"
                                                            (click)="getSalaryDetailsById(salaryDetailsData?._id)"><i
                                                                class="fas fa-edit" aria-hidden="true"></i></button>
                                                    </div>
                                                    <div class="card-header p-0 ml-10"
                                                        *ngIf="salaryDetailsData?.isFirst == false">
                                                        <button
                                                            class="mb-0 cursor-pointer btn bg-gradient-dark emp-edit-btn"
                                                            (click)="downloadEmployeeAppraisalLetter(salaryDetailsData?._id)"><i
                                                                class="fas fa-download" aria-hidden="true"></i></button>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <!-- Monthly Salary Details Card -->
            <div class="row" *ngIf="ISeditEmployee === true">
                <div class="col-lg-12">
                    <div class="card mb-4 card-height">
                        <div class="card-body pb-2">
                            <div class="d-flex" style="justify-content:space-between;">
                                <h4 class="card-title-color">Monthly Salary Details</h4>
                                <button class="btn bg-gradient-dark mb-0 height-40 add-small-btn"
                                    (click)="addMonthlySalaryDetails()">
                                    <div class="edit-add-btn">
                                        <i class="fas fa-plus" aria-hidden="true"></i>
                                    </div>
                                </button>
                            </div>

                            <div class="table-responsive p-0 table-head-fix table-head-fix-2">
                                <table class="table align-items-center mb-0">
                                    <thead>
                                        <tr>
                                            <th class="theme-color">
                                                Month - Year</th>
                                            <th class="theme-color">
                                                Total Salary</th>

                                            <th class="theme-color">
                                                Basic Salary</th>
                                            <th class="theme-color">
                                                HRA</th>
                                            <th class="theme-color" tabindex="0" data-bs-toggle="tooltip"
                                                title="Professional Tax">
                                                PT</th>
                                            <th class="theme-color" tabindex="0" data-bs-toggle="tooltip"
                                                title="Transport Allowance">
                                                TA</th>
                                            <th class="theme-color">
                                                PF</th>
                                            <th class="theme-color" tabindex="0" data-bs-toggle="tooltip"
                                                title="PF Employer">
                                                PF Emp</th>
                                            <th class="theme-color" tabindex="0" data-bs-toggle="tooltip"
                                                title="Miscellaneous Allowance">
                                                MA</th>
                                            <th class="theme-color">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr
                                            *ngFor="let monthlySalaryDetailsList of monthlySalaryDetailsList;let userMasterIndex = index">
                                            <td>
                                                {{monthlySalaryMonthArray[monthlySalaryDetailsList?.month -
                                                1].month}} -
                                                {{monthlySalaryDetailsList?.year}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{monthlySalaryDetailsList?.finalAmount}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{monthlySalaryDetailsList?.basicSalary}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{monthlySalaryDetailsList?.HRA}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{monthlySalaryDetailsList?.professionalText}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{monthlySalaryDetailsList?.transportAllowance}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{monthlySalaryDetailsList?.PF}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{monthlySalaryDetailsList?.PFEmployer}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{monthlySalaryDetailsList?.miscellaneousAllowances}}
                                            </td>
                                            <td class="align-middle">
                                                <div class="d-flex">
                                                    <div class="card-header p-0">
                                                        <button
                                                            class="mb-0 cursor-pointer btn bg-gradient-dark emp-edit-btn"
                                                            (click)="getMonthlySalaryDetailsById(monthlySalaryDetailsList?._id)"><i
                                                                class="fas fa-edit" aria-hidden="true"></i></button>
                                                        <button class="font-20 btn ml-10 bg-gradient-dark emp-edit-btn"
                                                            title="Download Salary Report"
                                                            (click)="downloadSalaryGenerationWorkReport(monthlySalaryDetailsList.employeeId,monthlySalaryDetailsList.month,monthlySalaryDetailsList.year)">
                                                            <i class="fa fa-download"></i></button>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <!-- Monthly Wise Leave Card -->
            <div class="row" *ngIf="ISeditEmployee === true">
                <div class="col-lg-12">
                    <div class="card mb-4 card-height">
                        <div class="card-body pb-2">
                            <div class="d-flex" style="justify-content:space-between;">
                                <h4 class="card-title-color">Month Wise Leave</h4>
                                <button class="btn bg-gradient-dark mb-0 height-40 add-small-btn"
                                    (click)="addMonthWiseLeave()">
                                    <div class="edit-add-btn">
                                        <i class="fas fa-plus" aria-hidden="true"></i>
                                    </div>
                                </button>
                            </div>

                            <div class="table-responsive p-0 table-head-fix table-head-fix-2">
                                <table class="table align-items-center mb-0">
                                    <thead>
                                        <tr>
                                            <th class="theme-color">
                                                Month - Year</th>
                                            <th class="theme-color">
                                                Casual Leave</th>
                                            <th class="theme-color">
                                                Sick Leave</th>
                                            <th class="theme-color">
                                                Emergency Leave</th>
                                            <th class="theme-color">
                                                Loss of Pay</th>


                                            <th class="theme-color">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr
                                            *ngFor="let monthWiseLeaveData of monthWiseLeaveList;let monthWiseLeaveIndex = index">
                                            <td class="employe-doc-table-ellips">
                                                {{monthlySalaryMonthArray[monthWiseLeaveData?.month - 1].month}} -
                                                {{monthWiseLeaveData?.year}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{monthWiseLeaveData?.casualLeave}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{monthWiseLeaveData?.sickLeave}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{monthWiseLeaveData?.emergencyLeave}}
                                            </td>
                                            <td class="employe-doc-table-ellips">
                                                {{monthWiseLeaveData?.lossOfPay}}
                                            </td>

                                            <td class="align-middle">
                                                <div class="d-flex">
                                                    <div class="card-header p-0">
                                                        <button
                                                            class="mb-0 cursor-pointer btn bg-gradient-dark emp-edit-btn"
                                                            (click)="getMonthWiseLeaveById(monthWiseLeaveData?._id)"><i
                                                                class="fas fa-edit" aria-hidden="true"></i></button>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <!--leave balance Card -->
            <div class="row" *ngIf="ISeditEmployee === true">
                <div class="col-lg-12">
                    <div class="card mb-4 card-height">
                        <div class="card-body pb-2">
                            <div class="d-flex" style="justify-content:space-between;">
                                <h4 class="card-title-color">Leave Balance</h4>
                                <button class="btn bg-gradient-dark mb-0 height-40 add-small-btn"
                                    (click)="addLeaveBalance()">
                                    <div class="edit-add-btn">
                                        <i class="fas fa-edit" aria-hidden="true"></i>
                                    </div>
                                </button>
                            </div>

                            <!-- <div class="row"
                                *ngFor="let leaveBalanceData of leaveBalanceList;let leaveBalanceIndex = index">
                                <div class="col-lg-6">
                                    <span>{{leaveBalanceData?.leaveType}}</span>
                                </div>
                                <div class="col-lg-6">
                                    <span>{{leaveBalanceData?.totalAssignLeave}}</span>
                                </div>
                            </div> -->

                            <div class="row mt-5">
                                <div class="col-lg-4 col-md-4 col-sm-4 card-width-fixed"
                                    *ngFor="let leaveBalanceData of leaveBalanceList;let leaveBalanceIndex = index">
                                    <div class="card mb-3">
                                        <div class="card-body card-body-padding">
                                            <div class="position-relative text-center">
                                                <div class="mt-2 mb-2">
                                                    <div class="recipe-image">
                                                        <img src="{{leaveBalanceData.img}}" class="leaveCount-images"
                                                            alt="" width="60px" height="60px">
                                                    </div>
                                                </div>
                                                <div class="recipe-image-control">
                                                    <button class="border-0 float-right delete-btn-icon">
                                                        {{leaveBalanceData.remainLeave ?
                                                        leaveBalanceData.remainLeave :
                                                        0}}
                                                    </button>
                                                </div>
                                                <div class="leave-type-name">
                                                    {{leaveBalanceData.leaveType}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>


                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>
</div>

<!-- New Popup -->
<!-- //User Basic Details Popup start -->
<div class="modal quick-edit-modal fade" tabindex="-1" id="add-user-basic-details-modal" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="card modal-content">
            <div class="modal-header">
                <h3 class="text-align-center mb-2 w-100">Basic Information</h3>
                <button class="btn bg-gradient-dark cancel-btn popup-close-btn" (click)="closeBasicInfoModel()">
                    <i class="fa fa-times" style="font-size: 10px;"></i>
                </button>
            </div>
            <div class="card-body">
                <form role="form" class="add-employee-form basic-information-form" [formGroup]="employeeForm"
                    autocomplete="off">
                    <div class="p-3">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="position-relative mb-4 text-align-center">
                                    <div class="profile-pic">
                                        <div class="-label">
                                            <i class="fa fa-pencil popup-Profile"></i>
                                        </div>
                                        <input #file type="file" accept='image/x-png,image/gif,image/jpeg'
                                            class="z-index-for-profile change-photo-user change-profile-image"
                                            (change)="preview(file.files)" />
                                        <div class="circle-120 custom-file primary-custom-file d-none" *ngIf="!imgURL">
                                            <span class="custom-icons icon-picture material-icons">wallpaper</span>
                                            <div class="upload-icon-file">
                                                <span class="custom-icons material-icons">file_upload</span>
                                            </div>
                                        </div>
                                        <img [src]="imgURL" onerror="this.src ='../assets/img/no-image-available.jpg'"
                                            class="user-pic-add-employye-form">
                                        <div class="mb-4 position-relative" *ngIf="imgURL">
                                        </div>

                                        <div *ngIf="file.length == 0">
                                            {{message}}
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Employee Number</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-user"></i></span>
                                    <input type="text" class="form-control" formControlName="EmpId"
                                        placeholder="Employee Number" maxlength="25">
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">First Name</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-user"></i></span>
                                    <input type="text" (keypress)="letterOnly($event)" class="form-control"
                                        formControlName="firstName" placeholder="First Name" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div *ngIf="submitteduserData && this.employeeForm.controls.firstName.errors">
                                        <div *ngIf="this.employeeForm.controls.firstName.errors.required">
                                            <span class="error_msg">First Name is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Middle Name</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-user"></i></span>
                                    <input type="text" (keypress)="letterOnly($event)" class="form-control"
                                        formControlName="middleName" placeholder="Middle Name" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div *ngIf="submitteduserData && fuserData.middleName.errors">
                                        <div *ngIf="fuserData.middleName.errors.required">
                                            <span class="error_msg">Middle Name is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Last Name</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-user"></i></span>
                                    <input type="text" (keypress)="letterOnly($event)" class="form-control"
                                        formControlName="lastName" placeholder="Last Name" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div *ngIf="submitteduserData && fuserData.lastName.errors">
                                        <div *ngIf="fuserData.lastName.errors.required">
                                            <span class="error_msg">Last Name is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Personal Email Id</label>
                                <div class="mb-3 position-relative">
                                    <span class="icon-position"><i class="fa fa-envelope"></i></span>
                                    <input type="email" class="form-control" formControlName="p_Email"
                                        placeholder="Personal Email Id" aria-label="Password"
                                        aria-describedby="password-addon">
                                    <div *ngIf="submitteduserData && fuserData.p_Email.errors">
                                        <div *ngIf="fuserData.p_Email.errors.required">
                                            <span class="error_msg">Email ID is Required.</span>
                                        </div>
                                        <div
                                            *ngIf="!fuserData.p_Email.errors.valid && !fuserData.p_Email.errors.required">
                                            <span class="error_msg">Please Enter Valid Email ID.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Personal Contact Number</label>
                                <div class="mb-3 position-relative">
                                    <span class="icon-position"><i class="fa fa-phone"
                                            style="-webkit-transform: scaleX(-1); transform: scaleX(-1);"></i></span>
                                    <input type="text" class="form-control" formControlName="p_Mobile"
                                        mask="000-000-0000" placeholder="Personal Contact Number" aria-label="Password"
                                        aria-describedby="password-addon">
                                    <div *ngIf="submitteduserData && fuserData.p_Mobile.errors">
                                        <div *ngIf="fuserData.p_Mobile.errors.required">
                                            <span class="error_msg">Contact Number is Required.</span>
                                        </div>
                                        <div *ngIf="fuserData.p_Mobile.errors.pattern">
                                            <span class="error_msg">Contact Number is less than 10 digit.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <div class="">
                                    <label class="required">Gender: </label>
                                    <div class="d-flex" style="margin-top: 11px;">
                                        <div class="d-flex">
                                            <input type="radio" name="gender" value="1" class="radio-btn"
                                                formControlName="gender">
                                            <label class="ml-10">Male</label>
                                        </div>

                                        <div class="d-flex ms-2">
                                            <input type="radio" name="gender" value="2" class="radio-btn"
                                                formControlName="gender">
                                            <label class="ml-10">Female</label>
                                        </div>
                                        <div class="d-flex ms-2">
                                            <input type="radio" name="gender" value="3" class="radio-btn"
                                                formControlName="gender">
                                            <label class="ml-10">Other</label>
                                        </div>
                                    </div>
                                    <div *ngIf="submitteduserData && fuserData.gender.errors">
                                        <div *ngIf="fuserData.gender.errors.required">
                                            <span class="error_msg">Gender is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Date of Birth</label>
                                <div class="mb-3 position-relative mat-date-picker" (click)="dobPopup.open()">
                                    <span class="icon-position cursor-pointer"><i class="fa fa-calendar"></i></span>
                                    <input matInput class="form-control" placeholder="Please Select Date"
                                        [max]="maxDate" [matDatepicker]="dobPopup" formControlName="dob">
                                    <div class="mat-dat-picker-icon">
                                        <div class="calendar-icon"><i class="bx bxs-calendar"></i></div>
                                        <mat-datepicker-toggle matSuffix [for]="dobPopup"></mat-datepicker-toggle>
                                        <mat-datepicker #dobPopup></mat-datepicker>
                                    </div>
                                    <mat-datepicker #dobPopup></mat-datepicker>
                                    <!-- <span class="icon-position cursor-pointer" (click)="d.toggle()"><i
                                            class="fa fa-calendar"></i></span>
                                    <input class="form-control" formControlName="dob" (click)="d.toggle()"
                                        (input)="onDobDateChange($event)" [maxDate]="maxDate" [minDate]="minDobDate"
                                        placeholder="yyyy-mm-dd" name="dp" #d="ngbDatepicker" ngbDatepicker> -->
                                    <div *ngIf="submitteduserData && fuserData.dob.errors">
                                        <div *ngIf="fuserData.dob.errors.required">
                                            <span class="error_msg">Date of Birth is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Blood Group</label>
                                <div class="mb-3 position-relative">
                                    <!-- <span class="icon-position"><i class="fa fa-h-square"></i></span> -->
                                    <ng-select [items]="bloodGroupArray" class="blood-group-dropdown"
                                        bindLabel="bloodGroupArray" placeholder="Select Blood Group"
                                        bindValue="bloodGroupArray" formControlName="bloodGroup">
                                    </ng-select>
                                    <div *ngIf="submitteduserData && fuserData.bloodGroup.errors">
                                        <div *ngIf="fuserData.bloodGroup.errors.required">
                                            <span class="error_msg">Blood Group is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>





                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Linkedin Id</label>
                                <div class="mb-3 position-relative">
                                    <span class="icon-position"><i class="fa fa-linkedin"></i></span>
                                    <input type="text" class="form-control" formControlName="linkedInId"
                                        placeholder="Linkedin Id" aria-label="Password"
                                        aria-describedby="password-addon">
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Permanent Address</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-map-marker"></i></span>
                                    <textarea type="textarea" maxlength="200" class="form-control"
                                        formControlName="permenentAddress" placeholder="Permenant Address"
                                        aria-label="Password" aria-describedby="password-addon"></textarea>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Current Address</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-map-marker"></i></span>
                                    <textarea type="textarea" maxlength="200" class="form-control"
                                        formControlName="currentAddress" placeholder="Current Address"
                                        aria-label="Password" aria-describedby="password-addon"></textarea>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Signature</label>
                                <div class="d-flex">
                                    <div class="mb-3" style="width: 120px;">
                                        <input #file1 type="file" accept='image/x-png,image/gif,image/jpeg'
                                            class="signature-upload cursor-pointer mt-2" width="100px"
                                            (change)="previewSignatureImage(file1.files)" />
                                        <button class="btn bg-gradient-dark mt-2 cursor-pointer mr-20">Upload</button>
                                    </div>
                                    <div class="text-danger">{{signatureMessage}}</div>
                                    <div *ngIf="signatureImageURL">
                                        <div class="position-relative">
                                            <div class="mt-2">
                                                <div class="recipe-image">
                                                    <img [src]="signatureImageURL" height="50px" width="150px"
                                                        onerror="this.src ='assets/img/no-image-available.jpg'"
                                                        style="border-radius: 5px;">
                                                </div>
                                            </div>
                                            <div class="recipe-image-control">
                                                <button class="border-0 float-right btn btn-delete-icon"
                                                    (click)="removeSignatureImageFile()">
                                                    <i class="fa fa-times"></i>
                                                </button>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="w-100">
                    <div class="text-center">
                        <button type="button" (click)="UpdateUser()" class="btn bg-gradient-dark my-2"
                            *ngIf="ISeditEmployee === true || profileDetails === true">Update</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- //Company Details Popup start -->
<div class="modal quick-edit-modal fade" tabindex="-1" id="add-company-details-modal" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="card modal-content">
            <div class="modal-header">
                <h3 class="text-align-center mb-2 w-100">Company Information</h3>
                <button class="btn bg-gradient-dark cancel-btn popup-close-btn" (click)="closeCompanyInfoModel()">
                    <i class="fa fa-times" style="font-size: 10px;"></i>
                </button>
            </div>
            <div class="card-body">
                <form role="form" class="add-employee-form basic-information-form" [formGroup]="companyInfoForm"
                    autocomplete="off">
                    <div class="p-3">
                        <div class="row">
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Company</label>
                                <div class="mb-3">
                                    <ng-select [items]="companyActiveDataList" class="" bindLabel="companyName"
                                        bindValue="_id" placeholder="Company" formControlName="companyId">
                                    </ng-select>
                                    <div *ngIf="submittedCompanyInfoData && fCompanyInfoData.companyId.errors">
                                        <div *ngIf="fCompanyInfoData.companyId.errors.required">
                                            <span class="error_msg">Company is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Email Id</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-envelope"></i></span>
                                    <input type="email" class="form-control" formControlName="c_Email"
                                        placeholder="Email Id (ex. example@outlook.com)" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div *ngIf="submittedCompanyInfoData && fCompanyInfoData.c_Email.errors">
                                        <div *ngIf="fCompanyInfoData.c_Email.errors.required">
                                            <span class="error_msg">Email ID is Required.</span>
                                        </div>
                                        <div
                                            *ngIf="!fCompanyInfoData.c_Email.errors.valid && !fCompanyInfoData.c_Email.errors.required">
                                            <span class="error_msg">Please Enter Valid Email ID.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Skype Id</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-skype"></i></span>
                                    <input type="text" class="form-control" formControlName="c_SkypeId"
                                        placeholder="Skype Id" aria-label="Email" aria-describedby="email-addon">
                                    <!--<div *ngIf="submittedCompanyInfoData && fCompanyInfoData.c_SkypeId.errors">
                                        <div *ngIf="fCompanyInfoData.c_SkypeId.errors.required">
                                            <span class="error_msg">Skype ID is Required.</span>
                                        </div>
                                    </div>-->
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Joining Date</label>
                                <!-- <div class="mb-3 position-relative"> -->
                                <div class="mb-3 position-relative mat-date-picker" (click)="joiningDate.open()">
                                    <span class="icon-position cursor-pointer"><i class="fa fa-calendar"></i></span>
                                    <input matInput class="form-control" placeholder="Please Select Date"
                                        [max]="maxDate" [matDatepicker]="joiningDate" formControlName="joiningDate">
                                    <div class="mat-dat-picker-icon">
                                        <div class="calendar-icon"><i class="bx bxs-calendar"></i></div>
                                        <mat-datepicker-toggle matSuffix [for]="joiningDate"></mat-datepicker-toggle>
                                        <mat-datepicker #joiningDate></mat-datepicker>
                                    </div>
                                    <!-- <mat-datepicker #joiningDate></mat-datepicker> -->


                                    <!-- <span class="icon-position cursor-pointer"
                                        (click)="joiningDate.toggle();joiningDate.navigateTo(maxDate)"><i
                                            class="fa fa-calendar"></i></span>
                                    <input class="form-control" formControlName="joiningDate" [maxDate]="maxDate"
                                        [startDate]="{year: 1700, month: 7}" [minDate]="minDobDate"
                                        (click)="joiningDate.toggle();joiningDate.navigateTo(maxDate)"
                                        placeholder="yyyy-mm-dd" name="JD" #joiningDate="ngbDatepicker"
                                        (input)="onJoiningnDateChange($event)" ngbDatepicker> -->
                                    <!-- <input type="date" class="text-feild form-control" [max]="getToday()"
                                        placeholder="Select Joining Date" formControlName="joiningDate"> -->
                                    <div *ngIf="submittedCompanyInfoData && fCompanyInfoData.joiningDate.errors">
                                        <div *ngIf="fCompanyInfoData.joiningDate.errors.required">
                                            <span class="error_msg">Joining Date is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Role</label>
                                <div class="mb-3">
                                    <ng-select [items]="roleList" class="" bindLabel="roleName" bindValue="_id"
                                        placeholder="Role" formControlName="roleId">
                                    </ng-select>
                                    <div *ngIf="submittedCompanyInfoData && fCompanyInfoData.roleId.errors">
                                        <div *ngIf="fCompanyInfoData.roleId.errors.required">
                                            <span class="error_msg">Role is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Designation</label>
                                <div class="mb-3">
                                    <ng-select [items]="designationList" class="" bindLabel="name" bindValue="_id"
                                        placeholder="Designation" formControlName="designationId">
                                    </ng-select>
                                    <div *ngIf="submittedCompanyInfoData && fCompanyInfoData.designationId.errors">
                                        <div *ngIf="fCompanyInfoData.designationId.errors.required">
                                            <span class="error_msg">Designation is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Technology</label>
                                <div class="mb-3">
                                    <ng-select [items]="technologyList" class="" bindLabel="technologyName"
                                        bindValue="_id" placeholder="Technology" formControlName="technologyId"
                                        [multiple]="true" [closeOnSelect]="false">
                                    </ng-select>

                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Is Admin ?</label>
                                <div class="mb-3">
                                    <mat-checkbox formControlName="isAdminLogin">
                                    </mat-checkbox>
                                </div>
                            </div>
                            <div class="col-lg-8 col-md-6 col-sm-12">
                                <label class="required">Assign Responsible Person</label>
                                <div class="mb-3">
                                    <ng-select [items]="userMasterList" class="" bindLabel="userName" bindValue="_id"
                                        placeholder="Assign Responsible Person" formControlName="assignPersonId"
                                        [multiple]="true" [closeOnSelect]="false">
                                    </ng-select>
                                    <div *ngIf="submittedCompanyInfoData && fCompanyInfoData.assignPersonId.errors">
                                        <div *ngIf="fCompanyInfoData.assignPersonId.errors.required">
                                            <span class="error_msg">Assign Responsible Person is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="w-100">
                    <div class="text-center">
                        <button type="button" *ngIf="!employeeCompanyList" (click)="saveCompanyInformationDetails()"
                            class="btn bg-gradient-dark my-2">Save</button>
                        <button type="button" *ngIf="employeeCompanyList" (click)="updateCompanyInformationDetails()"
                            class="btn bg-gradient-dark my-2">Update</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal quick-edit-modal fade" tabindex="-1" id="assign-team-modal" role="dialog">
    <div class="modal-dialog model-height" role="document">
        <div class="card modal-content">
            <div class="modal-header">
                <h3 class="text-center mb-2 w-100">{{ISeditTeam ? 'Edit' : '' }} Assign Team</h3>
                <button class="btn bg-gradient-dark cancel-btn" (click)="closeAssignEdit()"
                    style="float: right;margin-right: 0;border-radius: 50%;padding: 7px 12px;">
                    <i class="fa fa-times" style="font-size: 10px;"></i>
                </button>
            </div>
            <div class="card-body model-scroll">
                <form role="form" class="add-employee-form basic-information-form" [formGroup]="teamAssignForm"
                    autocomplete="off">
                    <div class="p-3">
                        <div class="row">
                            <div class="col-lg-6">
                                <label class="required">Project</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-city"></i></span>
                                    <ng-select [items]="ProjectMasterlist" bindLabel="projectName" bindValue="_id"
                                        placeholder="Select Project" formControlName="projectId">
                                    </ng-select>
                                    <div *ngIf="submitAssign && teamAssignForm.controls.projectId.errors">
                                        <div *ngIf="teamAssignForm.controls.projectId.errors.required">
                                            <span class="error_msg">Project is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <label>Remarks</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-file-text"></i></span>
                                    <textarea class="form-control" maxlength="200" formControlName="remark"
                                        placeholder="Remarks"></textarea>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <label for="role">isPoc ?</label>
                                <input type="checkbox" class="keep-originals ml-60" formControlName="isPoc">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="w-100">
                    <div class="text-center">
                        <button type="button" (click)="saveTeamAssign()" class="btn bg-gradient-dark my-2">Save</button>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- //Document Details Popup start -->
<div class="modal quick-edit-modal fade" tabindex="-1" id="add-document-upload-modal" role="dialog">
    <div class="modal-dialog modal-height" role="document">
        <div class="card modal-content">
            <div class="modal-header">
                <h3 class="text-align-center mb-2 w-100">Document Details</h3>
                <button class="btn bg-gradient-dark cancel-btn popup-close-btn" (click)="cancelDocument()">
                    <i class="fa fa-times" style="font-size: 10px;"></i>
                </button>
            </div>
            <div class="card-body model-scroll">
                <form role="form" class="add-employee-form basic-information-form" [formGroup]="documentUploadForm"
                    autocomplete="off">
                    <div class="p-3">
                        <div class="row">
                            <div class="col-lg-12">
                                <label for="role" class="required">Document Type</label>
                                <div class="mb-3">
                                    <ng-select [items]="documentTypeMasterList" class="" bindLabel="documentType"
                                        bindValue="_id" placeholder="Document Type" formControlName="documentTypeId">
                                    </ng-select>
                                    <div
                                        *ngIf="submittedDocumentUploadInfoData && fDocumentUploadData.documentTypeId.errors">
                                        <div *ngIf="fDocumentUploadData.documentTypeId.errors.required">
                                            <span class="error_msg">Document Type is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <label for="role" class="required">Document</label>
                                <div class="mb-3 d-flex">
                                    <span class="ex-upload">
                                        <input #fileDoc type="file" class="plus-btn"
                                            accept='image/x-png,image/gif,image/jpeg,.pdf, application/pdf'
                                            (change)="onDocumentChange($event)" multiple="true" />
                                        <img src="/assets/img/Add.png" height="40px"
                                            alt="Upload Experience Certificate">
                                    </span>
                                    <div>
                                        <div>
                                            <div class="document-file-main">
                                                <div class="p-1 ml-10" style="width: 245px;"
                                                    *ngFor="let resultofDocumentData of resultofDocument;let resultIndex = index;">
                                                    <button
                                                        class="border-0 float-delete-button r-0 btn-delete-icon btn m-0 btn-primary"
                                                        (click)="removeDocument(resultIndex,'newDocument')">
                                                        <i class="fa fa-times font-14"></i>
                                                    </button>
                                                    <p class="color-black mb-0 result-of-Exp-document"
                                                        *ngIf="resultofDocumentData.name">
                                                        {{resultofDocumentData.name}}
                                                    </p>
                                                    <!-- <p class="color-black mb-0 result-of-Exp-document"
                                                        *ngIf="!resultofDocumentData.name">
                                                        {{resultofDocumentData}}
                                                    </p> -->
                                                </div>
                                                <div class="p-1 ml-10" style="width: 245px;"
                                                    *ngFor="let oldUploadedDocumentsData of resultofShowingDocuments?.oldUploadedDocuments;let resultOldIndex = index;">
                                                    <button
                                                        class="border-0 float-delete-button r-0 btn-delete-icon btn m-0 btn-primary"
                                                        (click)="removeDocument(resultOldIndex,'oldDocument')">
                                                        <i class="fa fa-times font-14"></i>
                                                    </button>
                                                    <p class="color-black mb-0 result-of-Exp-document"
                                                        *ngIf="oldUploadedDocumentsData.name">
                                                        {{oldUploadedDocumentsData.name}}
                                                    </p>
                                                    <!-- <p class="color-black mb-0 result-of-Exp-document"
                                                        *ngIf="!oldUploadedDocumentsData.name">
                                                        {{oldUploadedDocumentsData}}
                                                    </p> -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div *ngIf="docError === true">
                                    <span class="error_msg">Please Add Document</span>
                                </div>
                            </div>
                            <div class="col-lg-12">
                                <div class="mb-3 d-flex">
                                    <label for="role">Keep Originals ?</label>
                                    <input type="checkbox" class="keep-originals ml-60" [checked]="keepOriginal"
                                        (change)="setIsKeepOriginals($event)">
                                </div>

                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="w-100">
                    <div class="text-center">
                        <button type="button" *ngIf="IsDocumentUpload == false" (click)="saveDocumentUpload()"
                            class="btn bg-gradient-dark my-2">Save</button>
                        <button type="button" *ngIf="IsDocumentUpload == true" (click)="updateDocumentUpload()"
                            class="btn bg-gradient-dark my-2">Update</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- //Emergency Contact Details Popup start -->
<div class="modal quick-edit-modal fade" tabindex="-1" id="add-emergency-contact-information-modal" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="card modal-content">
            <div class="modal-header">
                <h3 class="text-align-center mb-2 w-100" *ngIf="IsEmergencyContact == false">Add Emergency Contact
                </h3>
                <h3 class="text-align-center mb-2 w-100" *ngIf="IsEmergencyContact == true">Edit Emergency Contact
                </h3>
                <button class="btn bg-gradient-dark cancel-btn popup-close-btn"
                    (click)="cancelEmergencyContactInformation()">
                    <i class="fa fa-times" style="font-size: 10px;"></i>
                </button>
            </div>
            <div class="card-body model-scroll">
                <form role="form" class="add-employee-form" [formGroup]="emergencyContactInforForm" autocomplete="off">
                    <div class="p-3 basic-information-form">
                        <div class="row">
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Name</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-user"></i></span>
                                    <input type="text" (keypress)="letterSpaceOnly($event)" class="form-control"
                                        formControlName="contactPersonName" placeholder="Name" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div
                                        *ngIf="submittedEmergencyInfoData && fEmerContactInfoData.contactPersonName.errors">
                                        <div *ngIf="fEmerContactInfoData.contactPersonName.errors.required">
                                            <span class="error_msg">Name is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Phone</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-phone"
                                            style="-webkit-transform: scaleX(-1); transform: scaleX(-1);"></i></span>
                                    <input type="text" class="form-control" formControlName="contactPersonPhone"
                                        placeholder="Phone" mask="000-000-0000" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div
                                        *ngIf="submittedEmergencyInfoData && fEmerContactInfoData.contactPersonPhone.errors">
                                        <div *ngIf="fEmerContactInfoData.contactPersonPhone.errors.required">
                                            <span class="error_msg">Phone Number is Required.</span>
                                        </div>
                                        <div *ngIf="fEmerContactInfoData.contactPersonPhone.errors.pattern">
                                            <span class="error_msg">Phone Number is less than 10 digit.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role">Email ID</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-envelope"></i></span>
                                    <input type="email" class="form-control" formControlName="contactPersonEmailId"
                                        placeholder="Email Id" aria-label="Email" aria-describedby="email-addon">
                                    <!-- <div
                                        *ngIf="submittedEmergencyInfoData && fEmerContactInfoData.contactPersonEmailId.errors">
                                        <div *ngIf="fEmerContactInfoData.contactPersonEmailId.errors.required">
                                            <span class="error_msg">Email ID is Required.</span>
                                        </div>
                                        <div
                                            *ngIf="!fEmerContactInfoData.contactPersonEmailId.errors.valid && !fEmerContactInfoData.contactPersonEmailId.errors.required">
                                            <span class="error_msg">Please Enter Valid Email ID.</span>
                                        </div>
                                    </div> -->
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Relationship</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-link"></i></span>
                                    <input type="text" (keypress)="letterSpaceOnly($event)" maxlength="30"
                                        class="form-control" formControlName="relationship" placeholder="Relationship"
                                        aria-label="Email" aria-describedby="email-addon">
                                    <div *ngIf="submittedEmergencyInfoData && fEmerContactInfoData.relationship.errors">
                                        <div *ngIf="fEmerContactInfoData.relationship.errors.required">
                                            <span class="error_msg">Relationship is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="w-100">
                    <div class="text-center">
                        <button type="button" *ngIf="IsEmergencyContact == false" (click)="saveEmergencyContactInfo()"
                            class="btn bg-gradient-dark my-2">Save</button>
                        <button type="button" *ngIf="IsEmergencyContact == true" (click)="updateEmergencyContactInfo()"
                            class="btn bg-gradient-dark my-2">Update</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- //Education Details Popup start -->
<div class="modal quick-edit-modal fade" tabindex="-1" id="add-education-details-modal" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="card modal-content">
            <div class="modal-header">
                <h3 class="text-align-center mb-2 w-100" *ngIf="IsEducationDetails == false">Add Education Details
                </h3>
                <h3 class="text-align-center mb-2 w-100" *ngIf="IsEducationDetails == true">Edit Education Details
                </h3>
                <button class="btn bg-gradient-dark cancel-btn popup-close-btn" (click)="cancelEducationDetails()">
                    <i class="fa fa-times" style="font-size: 10px;"></i>
                </button>
            </div>
            <div class="card-body">
                <form role=" form" class="add-employee-form basic-information-form" [formGroup]="educationDetailsForm"
                    autocomplete="off">
                    <div class="p-3">
                        <div class="row">
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">University Name</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-university"></i></span>
                                    <input type="text" maxlength="60" class="form-control"
                                        formControlName="universityName" placeholder="University Name"
                                        aria-label="Email" aria-describedby="email-addon">
                                    <div *ngIf="submittedEducationDetailsData && fEducationData.universityName.errors">
                                        <div *ngIf="fEducationData.universityName.errors.required">
                                            <span class="error_msg">University Name is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Qualification</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-graduation-cap"></i></span>
                                    <input type="text" maxlength="50" class="form-control"
                                        formControlName="qualification" placeholder="Qualification" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div *ngIf="submittedEducationDetailsData && fEducationData.qualification.errors">
                                        <div *ngIf="fEducationData.qualification.errors.required">
                                            <span class="error_msg">Qualification is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Grade</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-google"></i></span>
                                    <input type="text" maxlength="10" class="form-control" formControlName="grade"
                                        placeholder="Grade" aria-label="Email" aria-describedby="email-addon">
                                    <div *ngIf="submittedEducationDetailsData && fEducationData.grade.errors">
                                        <div *ngIf="fEducationData.grade.errors.required">
                                            <span class="error_msg">Grade is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">From Year</label>
                                <div class="mb-3 position-relative">
                                    <ng-select [items]="yearArray" (change)="from($event)" class=""
                                        bindLabel="yearArray" bindValue="yearArray" placeholder="Select Year"
                                        formControlName="fromYear">
                                    </ng-select>
                                    <div *ngIf="submittedEducationDetailsData && fEducationData.fromYear.errors">
                                        <div *ngIf="fEducationData.fromYear.errors.required">
                                            <span class="error_msg">From Year is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">To Year</label>
                                <div class="mb-3 position-relative">
                                    <ng-select [items]="toyearArray" class="" bindLabel="toyearArray"
                                        bindValue="toyearArray" placeholder="Select Year" formControlName="toYear">
                                    </ng-select>
                                    <div *ngIf="submittedEducationDetailsData && fEducationData.toYear.errors">
                                        <div *ngIf="fEducationData.toYear.errors.required">
                                            <span class="error_msg">To Year is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">From Month</label>
                                <div class="mb-3 position-relative">
                                    <ng-select [items]="monthArray" class="" bindLabel="month" bindValue="month"
                                        placeholder="Select Month" formControlName="fromMonth">
                                    </ng-select>
                                    <div *ngIf="submittedEducationDetailsData && fEducationData.fromMonth.errors">
                                        <div *ngIf="fEducationData.fromMonth.errors.required">
                                            <span class="error_msg">From Month is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">To Month</label>
                                <div class="mb-3 position-relative">
                                    <ng-select [items]="monthArray" class="" bindLabel="month" bindValue="month"
                                        placeholder="Select Month" formControlName="toMonth">
                                    </ng-select>
                                    <div *ngIf="submittedEducationDetailsData && fEducationData.toMonth.errors">
                                        <div *ngIf="fEducationData.toMonth.errors.required">
                                            <span class="error_msg">To Month is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="w-100">
                    <div class="text-center">
                        <button type="button" *ngIf="IsEducationDetails == false" (click)="saveEducationDetails()"
                            class="btn bg-gradient-dark my-2">Save</button>
                        <button type="button" *ngIf="IsEducationDetails == true" (click)="updateEducationDetails()"
                            class="btn bg-gradient-dark my-2">Update</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- //Experience Details Popup start -->
<div class="modal quick-edit-modal fade" tabindex="-1" id="add-experience-details-modal" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="card modal-content">
            <div class="modal-header">
                <h3 class="text-align-center mb-2 w-100" *ngIf="IsExperienceDetails == false">Add Experience Details
                </h3>
                <h3 class="text-align-center mb-2 w-100" *ngIf="IsExperienceDetails == true">Edit Experience Details
                </h3>
                <button class="btn bg-gradient-dark cancel-btn popup-close-btn" (click)="cancelExperienceDetails()">
                    <i class="fa fa-times" style="font-size: 10px;"></i>
                </button>
            </div>
            <div class="card-body">
                <form role=" form" class="add-employee-form basic-information-form" [formGroup]="experienceDetailsForm"
                    autocomplete="off">
                    <div class="p-3">
                        <div class="row">
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Company Name</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-business-time"></i></span>
                                    <input type="text" class="form-control" formControlName="companyName"
                                        placeholder="Company Name" aria-label="Email" aria-describedby="email-addon">
                                    <div *ngIf="submittedExperienceDetailsData && fExperienceData.companyName.errors">
                                        <div *ngIf="fExperienceData.companyName.errors.required">
                                            <span class="error_msg">Company Name is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">Designation</label>
                                <div class="mb-3">
                                    <ng-select [items]="designationList" class="" bindLabel="name" bindValue="_id"
                                        placeholder="Designation" formControlName="designation">
                                    </ng-select>
                                    <div *ngIf="submittedExperienceDetailsData && fExperienceData.designation.errors">
                                        <div *ngIf="fExperienceData.designation.errors.required">
                                            <span class="error_msg">Designation is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="col-lg-12">
                                <label class="required">From Date - To Date</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-calendar"></i></span>
                                    <input type="text" matInput ngxDaterangepickerMd
                                        [locale]="{applyLabel: 'ok', format: 'DD-MM-YYYY'}" disabled
                                        (change)="forFromToDateChange()" class="text-feild form-control"
                                        placeholder="Select Date" startKey="start" endKey="end" [showDropdowns]="true"
                                        [formControl]="experienceDetailsForm.controls['Date']" name="daterange"
                                        [alwaysShowCalendars]="true" [showClearButton]="true"
                                        [isInvalidDate]="isInvalidDate" />
                                    <div *ngIf="IsFromToDateError === true">
                                        <span class="error_msg">From Date - To Date is Required.</span>
                                    </div>
                                </div>
                            </div> -->
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">From Date</label>
                                <div class="mb-3 position-relative mat-date-picker" (click)="fromDate.open()">
                                    <span class="icon-position cursor-pointer"><i class="fa fa-calendar"></i></span>
                                    <input matInput class="form-control" (dateChange)="onFromDateChange()"
                                        placeholder="Please Select Date" [max]="maxDate" [matDatepicker]="fromDate"
                                        formControlName="fromDate">
                                    <div class="mat-dat-picker-icon">
                                        <div class="calendar-icon"><i class="bx bxs-calendar"></i></div>
                                        <mat-datepicker-toggle matSuffix [for]="fromDate"></mat-datepicker-toggle>
                                        <mat-datepicker #fromDate></mat-datepicker>
                                    </div>
                                    <!-- <mat-datepicker #fromDate></mat-datepicker> -->


                                    <!-- <div class="mb-3">
                                    <span class="icon-position cursor-pointer"
                                        (click)="fromDate.toggle();fromDate.navigateTo(maxFromDate)"><i
                                            class="fa fa-calendar"></i></span>
                                    <input class="form-control" formControlName="fromDate" [maxDate]="maxFromDate"
                                        [startDate]="{year: 1700, month: 7}" [minDate]="minDobDate"
                                        (click)="fromDate.toggle();fromDate.navigateTo(maxFromDate)"
                                        placeholder="yyyy-mm-dd" name="JD" (dateSelect)="onFromDateChange($event)"
                                        (input)="onFromDateChange($event)" #fromDate="ngbDatepicker" ngbDatepicker> -->
                                    <div *ngIf="submittedExperienceDetailsData && fExperienceData.fromDate.errors">
                                        <div *ngIf="fExperienceData.fromDate.errors.required">
                                            <span class="error_msg">From Date is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label class="required">To Date</label>
                                <div class="mb-3 position-relative mat-date-picker" (click)="toDate.open()">
                                    <span class="icon-position cursor-pointer"><i class="fa fa-calendar"></i></span>
                                    <input matInput class="form-control" placeholder="Please Select Date"
                                        [min]="minToDate" [max]="maxDate" [matDatepicker]="toDate"
                                        formControlName="toDate">
                                    <div class="mat-dat-picker-icon">
                                        <div class="calendar-icon"><i class="bx bxs-calendar"></i></div>
                                        <mat-datepicker-toggle matSuffix [for]="toDate"></mat-datepicker-toggle>
                                        <mat-datepicker #toDate></mat-datepicker>
                                    </div>
                                    <mat-datepicker #toDate></mat-datepicker>
                                    <!-- <div class="mb-3">
                                    <span class="icon-position cursor-pointer" (click)="toDate.toggle()"><i
                                            class="fa fa-calendar"></i></span>
                                    <input class="form-control" (input)="onToDateChange($event)"
                                        (click)="toDate.toggle()" formControlName="toDate" [minDate]="minToDate"
                                        [maxDate]="maxToDate" placeholder="yyyy-mm-dd" name="JD" #toDate="ngbDatepicker"
                                        ngbDatepicker> -->
                                    <div *ngIf="submittedExperienceDetailsData && fExperienceData.toDate.errors">
                                        <div *ngIf="fExperienceData.toDate.errors.required">
                                            <span class="error_msg">To Date is Required.</span>
                                        </div>
                                    </div>
                                    <div *ngIf="showInvalidToDate === true">
                                        <span class="error_msg">Please Select Valid To Date.</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Document</label>
                                <div class="d-flex">
                                    <div class="ex-detail">
                                        <span class="ex-upload">
                                            <input #Expfile type="file" class="plus-btn"
                                                accept='image/x-png,image/gif,image/jpeg,.pdf, application/pdf'
                                                (change)="onExpDocumentChange($event)" />

                                            <img src="/assets/img/Add.png" height="40px"
                                                alt="Upload Experience Certificate">
                                        </span>

                                    </div>
                                    <div *ngIf="!!resultofExpShowDocument">
                                        <div>
                                            <div class="document-file-main">
                                                <div class="p-1 ml-10" style="width: 245px;">
                                                    <button
                                                        class="border-0 float-delete-button r-0 btn-delete-icon btn m-0 btn-primary"
                                                        (click)="removeExpDocument()">
                                                        <i class="fa fa-times font-14"></i>
                                                    </button>
                                                    <p class="color-black mb-0 result-of-Exp-document">
                                                        {{resultofExpShowDocument.name}}
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="IsDocumentError === true">
                                    <span class="error_msg">Please Add Document</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="w-100">
                    <div class="text-center">
                        <button type="button" *ngIf="IsExperienceDetails == false" (click)="saveExperienceDetails()"
                            class="btn bg-gradient-dark my-2">Save</button>
                        <button type="button" *ngIf="IsExperienceDetails == true" (click)="updateExperienceDetails()"
                            class="btn bg-gradient-dark my-2">Update</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- //Resume information Popup start -->
<div class="modal quick-edit-modal fade" tabindex="-1" id="add-resume-information-modal" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="card modal-content">
            <div class="modal-header">
                <h3 class="text-align-center mb-2 w-100">Resume Information</h3>
                <!-- <h3 class="text-align-center mb-2 w-100" *ngIf="empResumeDetailsList">Edit Resume Information</h3> -->
                <button class="btn bg-gradient-dark cancel-btn popup-close-btn" (click)="cancelResumeDetails()">
                    <i class="fa fa-times" style="font-size: 10px;"></i>
                </button>
            </div>
            <div class="card-body">
                <form role="form" class="add-employee-form" [formGroup]="resumeInfoForm" autocomplete="off">
                    <div class="p-3 basic-information-form">
                        <div class="row">
                            <div class="col-lg-12 col-md-6 col-sm-12">
                                <label for="role" class="required">Professional Summary</label>
                                <div class="mb-3">
                                    <!-- <span class="icon-position"><i class="fa fa-info"></i></span> -->
                                    <textarea type="textarea" maxlength="200" class="form-control ps-2"
                                        formControlName="professionalSummary"
                                        placeholder="Professional Summary"></textarea>
                                    <div *ngIf="submittedResumeInfoData && fResumeData.professionalSummary.errors">
                                        <div *ngIf="fResumeData.professionalSummary.errors.required">
                                            <span class="error_msg">Professional Summary is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr class="my-2">
                            <div class="col-lg-12 col-md-6 col-sm-12">
                                <div>
                                    <label for="role">Competencies</label>
                                    <button class="border-0 float-delete-button r-0 btn-delete-icon btn m-0 btn-primary"
                                        (click)="createCompetenciesData()">
                                        <i class="fa fa-plus font-14"></i>
                                    </button>
                                </div>
                                <div class="resume-scroll-height">
                                    <div class="row" formArrayName="competencies">
                                        <div class="col-lg-3 mb-3" [formGroupName]="competenciesIndex"
                                            *ngFor="let resumeItem of resumeInfoForm.get('competencies')['controls'];let competenciesIndex = index">
                                            <!-- <span class="icon-position"><i class="fa fa-book"></i></span> -->
                                            <span class="position-relative">
                                                <input type="text" class="form-control pr-35 ps-2"
                                                    formControlName="competenciesData" placeholder="Competencies">
                                                <span class="position-absolute btn-position-input cursor-pointer"
                                                    (click)="removeCompentencies(competenciesIndex)">
                                                    <i class="fa fa-times font-14"></i>
                                                </span>
                                            </span>
                                            <div *ngIf="submittedResumeInfoData && fResumeData.competencies.errors">
                                                <div *ngIf="fResumeData.competencies.errors.required">
                                                    <span class="error_msg">Competencies is Required.</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr class="my-2">
                            <div class="col-lg-12 col-md-6 col-sm-12">
                                <div>
                                    <label for="role">Technical Profile</label>
                                    <button class="border-0 float-delete-button r-0 btn-delete-icon btn m-0 btn-primary"
                                        (click)="createtechnicalProfile()">
                                        <i class="fa fa-plus font-14"></i>
                                    </button>
                                </div>

                                <div class="row" formArrayName="technicalProfile">
                                    <div class="col-lg-3 mb-3" [formGroupName]="technicalProfileDataIndex"
                                        *ngFor="let resumeItem of resumeInfoForm.get('technicalProfile')['controls'];let technicalProfileDataIndex = index">
                                        <!-- <span class="icon-position"><i
                                                        class="fa fa-solid fa-microchip"></i></span> -->

                                        <span class="position-relative">
                                            <input type="text" class="form-control pr-35 ps-2"
                                                formControlName="technicalProfileData" placeholder="Technical Profile">
                                            <span class="position-absolute btn-position-input cursor-pointer"
                                                (click)="removetechnicalProfile(technicalProfileDataIndex)">
                                                <i class="fa fa-times font-14"></i>
                                            </span>
                                        </span>

                                        <div *ngIf="submittedResumeInfoData && fResumeData.technicalProfile.errors">
                                            <div *ngIf="fResumeData.technicalProfile.errors.required">
                                                <span class="error_msg">Technical Profile is Required.</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr class="my-2">
                            <div class="col-lg-12 col-md-6 col-sm-12 ">
                                <div>
                                    <label for="role">Software</label>
                                    <button class="border-0 float-delete-button r-0 btn-delete-icon btn m-0 btn-primary"
                                        (click)="createsoftware()">
                                        <i class="fa fa-plus font-14"></i>
                                    </button>
                                </div>
                                <div class="row" formArrayName="software">
                                    <div class="col-lg-3 mb-3" [formGroupName]="softwareDataIndex"
                                        *ngFor="let resumeItem of resumeInfoForm.get('software')['controls'];let softwareDataIndex = index">

                                        <span class="position-relative">
                                            <input type="text" class="form-control pr-35 ps-2"
                                                formControlName="softwareData" placeholder="Software">
                                            <span class="position-absolute btn-position-input cursor-pointer"
                                                (click)="removesoftware(softwareDataIndex)">
                                                <i class="fa fa-times font-14"></i>
                                            </span>
                                        </span>

                                        <div *ngIf="submittedResumeInfoData && fResumeData.software.errors">
                                            <div *ngIf="fResumeData.software.errors.required">
                                                <span class="error_msg">Software is Required.</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr class="my-2">
                            <div class="col-lg-12 col-md-6 col-sm-12 mt-3">
                                <div>
                                    <label for="role">language</label>
                                    <button class="border-0 float-delete-button r-0 btn-delete-icon btn m-0 btn-primary"
                                        (click)="createlanguage()">
                                        <i class="fa fa-plus font-14"></i>
                                    </button>
                                </div>
                                <div class="row " formArrayName="language">
                                    <div class="col-lg-3 mb-3" [formGroupName]="languageDataIndex"
                                        *ngFor="let resumeItem of resumeInfoForm.get('language')['controls'];let languageDataIndex = index">

                                        <span class="position-relative">
                                            <input type="text" class="form-control pr-35 ps-2"
                                                formControlName="languageData" placeholder="Language">
                                            <span class="position-absolute btn-position-input cursor-pointer"
                                                (click)="removelanguage(languageDataIndex)">
                                                <i class="fa fa-times font-14"></i>
                                            </span>
                                        </span>

                                        <div *ngIf="submittedResumeInfoData && fResumeData.language.errors">
                                            <div *ngIf="fResumeData.language.errors.required">
                                                <span class="error_msg">Language is Required.</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr class="my-2">
                            <div class="col-lg-6 col-md-6 col-sm-12 mt-3">
                                <div>
                                    <label for="role">Project</label>
                                </div>
                                <ng-select [items]="ProjectMasterlist" class="" bindLabel="projectName" bindValue="_id"
                                    placeholder="Select Project" [closeOnSelect]="false" formControlName="projectId"
                                    [multiple]="true">
                                </ng-select>
                                <div *ngIf="submittedResumeInfoData && fResumeData.projectId.errors">
                                    <div *ngIf="fResumeData.projectId.errors.required">
                                        <span class="error_msg">Project is Required.</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="w-100">
                    <div class="text-center">
                        <button type="button" *ngIf="!empResumeDetailsList" (click)="saveResumeInformationDetails()"
                            class="btn bg-gradient-dark my-2">Save</button>
                        <button type="button" (click)="updateResumeInformationDetails()" *ngIf="empResumeDetailsList"
                            class="btn bg-gradient-dark my-2">Update</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- //Bank Details Popup start -->
<div class="modal quick-edit-modal fade" tabindex="-1" id="add-bank-information-modal" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="card modal-content">
            <div class="modal-header">
                <h3 class="text-align-center mb-2 w-100">Bank Details</h3>
                <button class="btn bg-gradient-dark cancel-btn popup-close-btn" (click)="cancelBankDetails()">
                    <i class="fa fa-times" style="font-size: 10px;"></i>
                </button>
            </div>
            <div class="card-body model-scroll">
                <form role="form" class="add-employee-form" [formGroup]="bankDetailsForm" autocomplete="off">
                    <div class="p-3 basic-information-form">
                        <div class="row">
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Bank Name</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-bank"></i></span>
                                    <input type="text" (keypress)="letterSpaceOnly($event)" class="form-control"
                                        formControlName="bankName" placeholder="Bank Name" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div *ngIf="submittedBankDetailsData && fBankData.bankName.errors">
                                        <div *ngIf="fBankData.bankName.errors.required">
                                            <span class="error_msg">Bank Name is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Bank Account Number</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-book"></i></span>
                                    <input type="text" maxlength="20" class="form-control"
                                        (keypress)="numberOnly($event)" formControlName="bankAccountNo"
                                        placeholder="Bank Account Number" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div *ngIf="submittedBankDetailsData && fBankData.bankAccountNo.errors">
                                        <div *ngIf="fBankData.bankAccountNo.errors.required">
                                            <span class="error_msg">Bank Account Number is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">IFSC Code</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-code-branch"></i></span>
                                    <input type="text" maxlength="11" (keypress)="numberAndletterOnly($event)"
                                        style="text-transform: uppercase" class="form-control"
                                        formControlName="ifscCode" placeholder="IFSC Code">
                                    <div *ngIf="submittedBankDetailsData && fBankData.ifscCode.errors">
                                        <div *ngIf="fBankData.ifscCode.errors.required">
                                            <span class="error_msg">IFSC Code is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">PAN No</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-id-card"></i></span>
                                    <input type="text" maxlength="10" (keypress)="numberAndletterOnly($event)"
                                        style="text-transform: uppercase" class="form-control" formControlName="panNo"
                                        placeholder="PAN No" aria-label="Email" aria-describedby="email-addon">
                                    <div *ngIf="submittedBankDetailsData && fBankData.panNo.errors">
                                        <div *ngIf="fBankData.panNo.errors.required">
                                            <span class="error_msg">PAN No is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="w-100">
                    <div class="text-center">
                        <button type="button" *ngIf="!bankDetailsList" (click)="saveBankDetails()"
                            class="btn bg-gradient-dark my-2">Save</button>
                        <button type="button" (click)="updateBankDetails()" *ngIf="bankDetailsList"
                            class="btn bg-gradient-dark my-2">Update</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- //Salary Details Popup start -->
<div class="modal quick-edit-modal fade" tabindex="-1" id="add-salary-information-modal" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="card modal-content">
            <div class="modal-header">
                <h3 class="text-align-center mb-2 w-100">Salary Details</h3>
                <button class="btn bg-gradient-dark cancel-btn popup-close-btn" (click)="cancelSalaryDetails()">
                    <i class="fa fa-times" style="font-size: 10px;"></i>
                </button>
            </div>
            <div class="card-body">
                <form role="form" class="add-employee-form" [formGroup]="salaryDetailsForm" autocomplete="off">
                    <div class="p-3 basic-information-form">
                        <div class="row">
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Total Salary</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-money"></i></span>
                                    <input type="text" disabled (keypress)="numberOnly($event)" class="form-control"
                                        formControlName="totalSalary" placeholder="Total Salary">
                                    <!-- <div *ngIf="submittedSalaryDetailsData && fSalaryData.totalSalary.errors">
                                        <div *ngIf="fSalaryData.totalSalary.errors.required">
                                            <span class="error_msg">Total Salary is Required.</span>
                                        </div>
                                    </div> -->
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Basic Salary</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-money"></i></span>
                                    <input type="text" (keypress)="numberOnly($event)" (input)="getTotalSalary()"
                                        class="form-control" formControlName="basicSalary" placeholder="Basic Salary"
                                        aria-label="Email" aria-describedby="email-addon">
                                    <div *ngIf="submittedSalaryDetailsData && fSalaryData.basicSalary.errors">
                                        <div *ngIf="fSalaryData.basicSalary.errors.required">
                                            <span class="error_msg">Basic Salary is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">HRA</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-home"></i></span>
                                    <input type="text" (keypress)="numberOnly($event)" (input)="getTotalSalary()"
                                        class="form-control" formControlName="HRA" placeholder="HRA" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div *ngIf="submittedSalaryDetailsData && fSalaryData.HRA.errors">
                                        <div *ngIf="fSalaryData.HRA.errors.required">
                                            <span class="error_msg">HRA is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Professional Text</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-text-width"></i></span>
                                    <input type="text" (keypress)="numberOnly($event)" (input)="getTotalSalary()"
                                        class="form-control" formControlName="professionalText"
                                        placeholder="Professional Text" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div *ngIf="submittedSalaryDetailsData && fSalaryData.professionalText.errors">
                                        <div *ngIf="fSalaryData.professionalText.errors.required">
                                            <span class="error_msg">Professional Text is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Transport Allowance</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-truck"></i></span>
                                    <input type="text" (keypress)="numberOnly($event)" (input)="getTotalSalary()"
                                        class="form-control" formControlName="transportAllowance"
                                        placeholder="Transport Allowance" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div *ngIf="submittedSalaryDetailsData && fSalaryData.transportAllowance.errors">
                                        <div *ngIf="fSalaryData.transportAllowance.errors.required">
                                            <span class="error_msg">Transport Allowance is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">PF</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-cubes"></i></span>
                                    <input type="text" (keypress)="numberOnly($event)" (input)="getTotalSalary()"
                                        class="form-control" formControlName="PF" placeholder="PF" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div *ngIf="submittedSalaryDetailsData && fSalaryData.PF.errors">
                                        <div *ngIf="fSalaryData.PF.errors.required">
                                            <span class="error_msg">PF is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">PF Employer</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-user"></i></span>
                                    <input type="text" (keypress)="numberOnly($event)" (input)="getTotalSalary()"
                                        class="form-control" formControlName="PFEmployer" placeholder="PF Employer"
                                        aria-label="Email" aria-describedby="email-addon">
                                    <div *ngIf="submittedSalaryDetailsData && fSalaryData.PFEmployer.errors">
                                        <div *ngIf="fSalaryData.PFEmployer.errors.required">
                                            <span class="error_msg">PF Employer is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="startDate" class="required">Start Date</label>

                                <div class="mb-3 position-relative mat-date-picker" (click)="startDate.open()">
                                    <span class="icon-position cursor-pointer"><i class="fa fa-calendar"></i></span>
                                    <input matInput class="form-control" placeholder="Please Select Date"
                                        [matDatepicker]="startDate" formControlName="startDate">
                                    <div class="mat-dat-picker-icon">
                                        <div class="calendar-icon"><i class="bx bxs-calendar"></i></div>
                                        <mat-datepicker-toggle matSuffix [for]="startDate"></mat-datepicker-toggle>
                                        <mat-datepicker #startDate></mat-datepicker>
                                    </div>
                                    <!-- <div class="mb-3">
                                    <span class="icon-position cursor-pointer" (click)="StartDate.toggle()"><i
                                            class="fa fa-calendar"></i></span>
                                    <input class="form-control" formControlName="startDate" placeholder="yyyy-mm-dd"
                                        [minDate]="minDobDate" name="JD" (input)="onStartDateChange($event)"
                                        (click)="StartDate.toggle()" #StartDate="ngbDatepicker" ngbDatepicker> -->
                                    <div *ngIf="submittedSalaryDetailsData && fSalaryData.startDate.errors">
                                        <div *ngIf="fSalaryData.startDate.errors.required">
                                            <span class="error_msg">Start Date is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="endDate">End Date</label>

                                <div class="mb-3 position-relative mat-date-picker" (click)="endDate.open()">
                                    <span class="icon-position cursor-pointer"><i class="fa fa-calendar"></i></span>
                                    <input matInput class="form-control" [min]="fSalaryData.startDate.value"
                                        placeholder="Please Select Date" [matDatepicker]="endDate"
                                        formControlName="endDate">
                                    <div class="mat-dat-picker-icon">
                                        <div class="calendar-icon"><i class="bx bxs-calendar"></i></div>
                                        <mat-datepicker-toggle matSuffix [for]="endDate"></mat-datepicker-toggle>
                                        <mat-datepicker #endDate></mat-datepicker>
                                    </div>

                                    <!-- <div class="mb-3">
                                    <span class="icon-position cursor-pointer" (click)="endDate.toggle()"><i
                                            class="fa fa-calendar"></i></span>
                                    <input class="form-control" formControlName="endDate" (click)="endDate.toggle()"
                                        placeholder="yyyy-mm-dd" name="JD" (input)="onEndDateChange($event)"
                                        #endDate="ngbDatepicker" ngbDatepicker> -->

                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Miscellaneous Allowances</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-coins"></i></span>
                                    <input type="text" (keypress)="numberOnly($event)" (input)="getTotalSalary()"
                                        class="form-control" formControlName="miscellaneousAllowances"
                                        placeholder="Miscellaneous Allowances" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div
                                        *ngIf="submittedSalaryDetailsData && fSalaryData.miscellaneousAllowances.errors">
                                        <div *ngIf="fSalaryData.miscellaneousAllowances.errors.required">
                                            <span class="error_msg">Miscellaneous Allowances is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Is Current Salary ?</label>
                                <div class="mb-3">
                                    <mat-checkbox formControlName="isLatest">
                                    </mat-checkbox>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label>Is First Salary ?</label>
                                <div class="mb-3">
                                    <mat-checkbox formControlName="isFirst">
                                    </mat-checkbox>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="w-100">
                    <div class="text-center">
                        <button type="button" *ngIf="IsEditSalaryDetails === false" (click)="saveSalaryDetails()"
                            class="btn bg-gradient-dark my-2">Save</button>
                        <button type="button" (click)="updateSalaryDetails()" *ngIf="IsEditSalaryDetails === true"
                            class="btn bg-gradient-dark my-2">Update</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- //Monthly Salary Details Popup start -->
<div class="modal quick-edit-modal fade" tabindex="-1" id="add-monthly-salary-information-modal" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="card modal-content">
            <div class="modal-header">
                <h3 class="text-align-center mb-2 w-100">Monthly Salary Details</h3>
                <button class="btn bg-gradient-dark cancel-btn popup-close-btn" (click)="cancelMonthlySalaryDetails()">
                    <i class="fa fa-times" style="font-size: 10px;"></i>
                </button>
            </div>
            <div class="card-body">
                <form role="form" class="add-employee-form" [formGroup]="monthlySalaryDetailsForm" autocomplete="off">
                    <div class="p-3 basic-information-form">
                        <div class="row">
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Month</label>
                                <div class="mb-3">
                                    <ng-select [items]="monthlySalaryMonthArray" class="" bindLabel="month"
                                        bindValue="value" placeholder="Select Month" formControlName="month">
                                    </ng-select>
                                    <div *ngIf="submittedMonthlySalaryDetailsData && fMonthSalaryData.month.errors">
                                        <div *ngIf="fMonthSalaryData.month.errors.required">
                                            <span class="error_msg">Please Select Month.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Year</label>
                                <div class="mb-3">
                                    <ng-select [items]="monthlySalaryYearArray" class=""
                                        bindLabel="monthlySalaryYearArray" bindValue="monthlySalaryYearArray"
                                        placeholder="Select Year" formControlName="year">
                                    </ng-select>
                                    <div *ngIf="submittedMonthlySalaryDetailsData && fMonthSalaryData.year.errors">
                                        <div *ngIf="fMonthSalaryData.year.errors.required">
                                            <span class="error_msg">Please Select Year.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Total Salary</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-money"></i></span>
                                    <input type="text" disabled (keypress)="numberOnly($event)" class="form-control"
                                        formControlName="totalSalary" placeholder="Total Salary">
                                    <!-- <div *ngIf="submittedMonthlySalaryDetailsData && fMonthSalaryData.totalSalary.errors">
                                        <div *ngIf="fMonthSalaryData.totalSalary.errors.required">
                                            <span class="error_msg">Total Salary is Required.</span>
                                        </div>
                                    </div> -->
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Basic Salary</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-money"></i></span>
                                    <input type="text" (keypress)="numberOnly($event)"
                                        (input)="getMonthlySalaryDetailsTotalSalary()" class="form-control"
                                        formControlName="basicSalary" placeholder="Basic Salary" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div
                                        *ngIf="submittedMonthlySalaryDetailsData && fMonthSalaryData.basicSalary.errors">
                                        <div *ngIf="fMonthSalaryData.basicSalary.errors.required">
                                            <span class="error_msg">Basic Salary is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">HRA</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-home"></i></span>
                                    <input type="text" (keypress)="numberOnly($event)"
                                        (input)="getMonthlySalaryDetailsTotalSalary()" class="form-control"
                                        formControlName="HRA" placeholder="HRA" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div *ngIf="submittedMonthlySalaryDetailsData && fMonthSalaryData.HRA.errors">
                                        <div *ngIf="fMonthSalaryData.HRA.errors.required">
                                            <span class="error_msg">HRA is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Professional Text</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-text-width"></i></span>
                                    <input type="text" (keypress)="numberOnly($event)"
                                        (input)="getMonthlySalaryDetailsTotalSalary()" class="form-control"
                                        formControlName="professionalText" placeholder="Professional Text"
                                        aria-label="Email" aria-describedby="email-addon">
                                    <div
                                        *ngIf="submittedMonthlySalaryDetailsData && fMonthSalaryData.professionalText.errors">
                                        <div *ngIf="fMonthSalaryData.professionalText.errors.required">
                                            <span class="error_msg">Professional Text is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Transport Allowance</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-truck"></i></span>
                                    <input type="text" (keypress)="numberOnly($event)"
                                        (input)="getMonthlySalaryDetailsTotalSalary()" class="form-control"
                                        formControlName="transportAllowance" placeholder="Transport Allowance"
                                        aria-label="Email" aria-describedby="email-addon">
                                    <div
                                        *ngIf="submittedMonthlySalaryDetailsData && fMonthSalaryData.transportAllowance.errors">
                                        <div *ngIf="fMonthSalaryData.transportAllowance.errors.required">
                                            <span class="error_msg">Transport Allowance is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">PF</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-cubes"></i></span>
                                    <input type="text" (keypress)="numberOnly($event)"
                                        (input)="getMonthlySalaryDetailsTotalSalary()" class="form-control"
                                        formControlName="PF" placeholder="PF" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div *ngIf="submittedMonthlySalaryDetailsData && fMonthSalaryData.PF.errors">
                                        <div *ngIf="fMonthSalaryData.PF.errors.required">
                                            <span class="error_msg">PF is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">PF Employer</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-user"></i></span>
                                    <input type="text" (keypress)="numberOnly($event)"
                                        (input)="getMonthlySalaryDetailsTotalSalary()" class="form-control"
                                        formControlName="PFEmployer" placeholder="PF Employer" aria-label="Email"
                                        aria-describedby="email-addon">
                                    <div
                                        *ngIf="submittedMonthlySalaryDetailsData && fMonthSalaryData.PFEmployer.errors">
                                        <div *ngIf="fMonthSalaryData.PFEmployer.errors.required">
                                            <span class="error_msg">PF Employer is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Miscellaneous Allowances</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-coins"></i></span>
                                    <input type="text" (keypress)="numberOnly($event)"
                                        (input)="getMonthlySalaryDetailsTotalSalary()" class="form-control"
                                        formControlName="miscellaneousAllowances" placeholder="Miscellaneous Allowances"
                                        aria-label="Email" aria-describedby="email-addon">
                                    <div
                                        *ngIf="submittedMonthlySalaryDetailsData && fMonthSalaryData.miscellaneousAllowances.errors">
                                        <div *ngIf="fMonthSalaryData.miscellaneousAllowances.errors.required">
                                            <span class="error_msg">Miscellaneous Allowances is Required.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="w-100">
                    <div class="text-center">
                        <button type="button" *ngIf="IsEditMonthlySalaryDetails === false"
                            (click)="saveMonthlySalaryDetails()" class="btn bg-gradient-dark my-2">Save</button>
                        <button type="button" (click)="updateMonthlySalaryDetails()"
                            *ngIf="IsEditMonthlySalaryDetails === true"
                            class="btn bg-gradient-dark my-2">Update</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- //Month wise leave Popup start -->
<div class="modal quick-edit-modal fade" tabindex="-1" id="add-month-wise-leave-modal" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="card modal-content">
            <div class="modal-header">
                <h3 class="text-align-center mb-2 w-100">Month Wise Leave</h3>
                <button class="btn bg-gradient-dark cancel-btn popup-close-btn" (click)="cancelMonthWiseLeave()">
                    <i class="fa fa-times" style="font-size: 10px;"></i>
                </button>
            </div>
            <div class="card-body">
                <form role="form" class="add-employee-form" [formGroup]="monthWiseLeaveForm" autocomplete="off">
                    <div class="p-3 basic-information-form">
                        <div class="row">
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Month</label>
                                <div class="mb-3">
                                    <ng-select [items]="monthlySalaryMonthArray" class="" bindLabel="month"
                                        bindValue="value" placeholder="Select Month" formControlName="month">
                                    </ng-select>
                                    <div *ngIf="submittedMonthWiseLeaveData && fMonthWiseLeaveData.month.errors">
                                        <div *ngIf="fMonthWiseLeaveData.month.errors.required">
                                            <span class="error_msg">Please Select Month.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role" class="required">Year</label>
                                <div class="mb-3">
                                    <ng-select [items]="monthlySalaryYearArray" class=""
                                        bindLabel="monthlySalaryYearArray" bindValue="monthlySalaryYearArray"
                                        placeholder="Select Year" formControlName="year">
                                    </ng-select>
                                    <div *ngIf="submittedMonthWiseLeaveData && fMonthWiseLeaveData.year.errors">
                                        <div *ngIf="fMonthWiseLeaveData.year.errors.required">
                                            <span class="error_msg">Please Select Year.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role">Casual Leave</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-money"></i></span>
                                    <input type="text" class="form-control" formControlName="casualLeave"
                                        placeholder="Casual Leave">
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role">Sick Leave</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-money"></i></span>
                                    <input type="text" class="form-control" formControlName="sickLeave"
                                        placeholder="Sick Leave">
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role">Emergency Leave</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-money"></i></span>
                                    <input type="text" class="form-control" formControlName="emergencyLeave"
                                        placeholder="Emergency Leave">
                                </div>
                            </div>
                            <div class="col-lg-4 col-md-6 col-sm-12">
                                <label for="role">Loss of Pay</label>
                                <div class="mb-3">
                                    <span class="icon-position"><i class="fa fa-money"></i></span>
                                    <input type="text" class="form-control" formControlName="lossOfPay"
                                        placeholder="Loss of Pay">
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div class="w-100">
                    <div class="text-center">
                        <button type="button" *ngIf="IsEditMonthWiseLeave === false" (click)="saveMonthWiseLeave()"
                            class="btn bg-gradient-dark my-2">Save</button>
                        <button type="button" (click)="updateMonthWiseLeave()" *ngIf="IsEditMonthWiseLeave === true"
                            class="btn bg-gradient-dark my-2">Update</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- //add leave balance Popup start -->
<div class="modal quick-edit-modal fade" tabindex="-1" id="add-leave-balance-modal" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="card modal-content">
            <div class="modal-header">
                <h3 class="text-align-center mb-2 w-100">Update Leave Balance</h3>
                <button class="btn bg-gradient-dark cancel-btn popup-close-btn" (click)="cancelLeaveBalance()">
                    <i class="fa fa-times" style="font-size: 10px;"></i>
                </button>
            </div>

            <form role="form" class="add-employee-form" [formGroup]="leaveBalanceForm" autocomplete="off">
                <div class="p-3 basic-information-form">
                    <!-- <div class="row">
                            <div class="col-lg-12 col-md-6 col-sm-12">
                                <label for="role" class="mr-20">
                                    <h5>Year &nbsp; : &nbsp; {{fLeaveBalanceData.year.value}}</h5>
                                </label>
                            </div>
                        </div> -->

                    <div class="row mb-3">
                        <div class="col-lg-4">
                            <div class="card p-2 cursor-pointer" [ngClass]="activeTab == 1 ? 'bg-primary' : ''"
                                (click)="activeTab = 1">
                                <h4 class="card-title text-center mb-0">Casual</h4>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="card p-2 cursor-pointer" [ngClass]="activeTab == 2 ? 'bg-primary' : ''"
                                (click)="activeTab = 2">
                                <h4 class="card-title text-center mb-0">Sick</h4>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="card p-2 cursor-pointer" [ngClass]="activeTab == 3 ? 'bg-primary' : ''"
                                (click)="activeTab = 3">
                                <h4 class="card-title text-center mb-0">Emergency</h4>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div *ngIf="activeTab == 1">
                            <table class="table" formArrayName="leaveList">
                                <thead>
                                    <tr>
                                        <th class="theme-color w-5">Month & Year</th>
                                        <th class="theme-color w-15">Leave Type</th>
                                        <th class="theme-color w-15">Count</th>
                                    </tr>
                                </thead>
                                <tbody [formGroupName]="i"
                                    *ngFor="let item of leaveBalanceForm.get('leaveList')['controls']; let i = index;">
                                    <tr *ngIf="item.value.leaveType == 'Casual'">
                                        <td class="text-color">
                                            {{item.value.month}} - {{item.value.year}}
                                        </td>
                                        <td class="text-color table-fixed-width-maxwidth">
                                            {{item.value.leaveType}}
                                        </td>
                                        <td class="text-color">
                                            <input type="text" class="form-control" formControlName="leaveCount"
                                                placeholder="Leave Count">
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div *ngIf="activeTab == 2">
                            <table class="table" formArrayName="leaveList">
                                <thead>
                                    <tr>
                                        <th class="theme-color w-5">Month & Year</th>
                                        <th class="theme-color w-15">Leave Type</th>
                                        <th class="theme-color w-15">Count</th>
                                    </tr>
                                </thead>
                                <tbody [formGroupName]="i"
                                    *ngFor="let item of leaveBalanceForm.get('leaveList')['controls']; let i = index;">
                                    <tr *ngIf="item.value.leaveType == 'Sick'">
                                        <td class="text-color">
                                            {{item.value.month}} - {{item.value.year}}
                                        </td>
                                        <td class="text-color table-fixed-width-maxwidth">
                                            {{item.value.leaveType}}
                                        </td>
                                        <td class="text-color">
                                            <input type="text" class="form-control" formControlName="leaveCount"
                                                placeholder="Leave Count">
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div *ngIf="activeTab == 3">
                            <table class="table" formArrayName="leaveList">
                                <thead>
                                    <tr>
                                        <th class="theme-color w-5">Month & Year</th>
                                        <th class="theme-color w-15">Leave Type</th>
                                        <th class="theme-color w-15">Count</th>
                                    </tr>
                                </thead>
                                <tbody [formGroupName]="i"
                                    *ngFor="let item of leaveBalanceForm.get('leaveList')['controls']; let i = index;">
                                    <tr *ngIf="item.value.leaveType == 'Emergency'">
                                        <td class="text-color">
                                            {{item.value.month}} - {{item.value.year}}
                                        </td>
                                        <td class="text-color table-fixed-width-maxwidth">
                                            {{item.value.leaveType}}
                                        </td>
                                        <td class="text-color">
                                            <input type="text" class="form-control" formControlName="leaveCount"
                                                placeholder="Leave Count">
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </form>
            <div class="modal-footer">
                <div class="w-100">
                    <div class="text-center">
                        <button type="button" (click)="updateLeaveBalance()"
                            class="btn bg-gradient-dark my-2">Update</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>